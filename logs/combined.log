{"cacheEnabled":true,"cacheTTL":300,"environment":"development","level":"info","message":"Server started on port 3000","service":"currency-exchange-api","timestamp":"2025-11-18T04:46:54.916Z","version":"1.0.0"}
{"duration":19,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/health","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T04:49:34.449Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/favicon.ico","service":"currency-exchange-api","statusCode":404,"timestamp":"2025-11-18T04:49:34.719Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/healthf","service":"currency-exchange-api","statusCode":404,"timestamp":"2025-11-18T04:49:46.190Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"//api/rates","service":"currency-exchange-api","statusCode":404,"timestamp":"2025-11-18T04:49:58.001Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T04:50:01.726Z"}
{"level":"debug","message":"Fetching Binance Spot rate","service":"currency-exchange-api","timestamp":"2025-11-18T04:50:01.728Z"}
{"level":"debug","message":"Fetching CoinGecko rates","service":"currency-exchange-api","timestamp":"2025-11-18T04:50:01.762Z"}
{"level":"debug","message":"Fetching Binance P2P data","service":"currency-exchange-api","timestamp":"2025-11-18T04:50:01.770Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T04:50:02.708Z"}
{"inr":88.54,"level":"debug","message":"CoinGecko rates fetched","ngn":1442.56,"service":"currency-exchange-api","timestamp":"2025-11-18T04:50:02.922Z"}
{"adsCount":20,"level":"debug","message":"Binance P2P data fetched","service":"currency-exchange-api","timestamp":"2025-11-18T04:50:03.394Z"}
{"level":"debug","message":"Analyzing P2P data","service":"currency-exchange-api","timestamp":"2025-11-18T04:50:03.395Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T04:50:03.397Z"}
{"goodAds":2,"level":"debug","lowestRate":96.51,"message":"P2P analysis complete","service":"currency-exchange-api","timestamp":"2025-11-18T04:50:03.398Z","totalAds":20}
{"level":"info","message":"Market data cached","service":"currency-exchange-api","timestamp":"2025-11-18T04:50:03.399Z","ttl":300}
{"duration":1676,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T04:50:03.402Z"}
{"duration":11,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/metrics","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T04:51:39.713Z"}
{"cacheEnabled":true,"cacheTTL":300,"environment":"development","level":"info","message":"Server started on port 3000","service":"currency-exchange-api","timestamp":"2025-11-18T04:52:03.677Z","version":"1.0.0"}
{"duration":15,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/metrics","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T04:52:04.956Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T04:52:22.262Z"}
{"level":"debug","message":"Fetching Binance Spot rate","service":"currency-exchange-api","timestamp":"2025-11-18T04:52:22.264Z"}
{"level":"debug","message":"Fetching CoinGecko rates","service":"currency-exchange-api","timestamp":"2025-11-18T04:52:22.294Z"}
{"level":"debug","message":"Fetching Binance P2P data","service":"currency-exchange-api","timestamp":"2025-11-18T04:52:22.297Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T04:52:22.748Z"}
{"inr":88.54,"level":"debug","message":"CoinGecko rates fetched","ngn":1442.46,"service":"currency-exchange-api","timestamp":"2025-11-18T04:52:22.871Z"}
{"adsCount":20,"level":"debug","message":"Binance P2P data fetched","service":"currency-exchange-api","timestamp":"2025-11-18T04:52:23.586Z"}
{"level":"debug","message":"Analyzing P2P data","service":"currency-exchange-api","timestamp":"2025-11-18T04:52:23.589Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T04:52:23.590Z"}
{"goodAds":3,"level":"debug","lowestRate":96.52,"message":"P2P analysis complete","service":"currency-exchange-api","timestamp":"2025-11-18T04:52:23.591Z","totalAds":20}
{"level":"info","message":"Market data cached","service":"currency-exchange-api","timestamp":"2025-11-18T04:52:23.592Z","ttl":300}
{"duration":1333,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T04:52:23.595Z"}
{"level":"debug","message":"Using cached market data","service":"currency-exchange-api","timestamp":"2025-11-18T04:52:30.346Z"}
{"duration":18,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T04:52:30.364Z"}
{"level":"debug","message":"Using cached market data","service":"currency-exchange-api","timestamp":"2025-11-18T04:52:43.136Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T04:52:43.139Z"}
{"duration":14,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/metrics","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T04:52:52.364Z"}
{"duration":13,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/metrics","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T04:53:00.238Z"}
{"level":"debug","message":"Using cached market data","service":"currency-exchange-api","timestamp":"2025-11-18T04:53:50.880Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/convert","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T04:53:50.884Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/metrics","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T04:54:46.641Z"}
{"duration":5,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/metrics","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T04:58:12.284Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T04:58:15.557Z"}
{"level":"debug","message":"Fetching Binance Spot rate","service":"currency-exchange-api","timestamp":"2025-11-18T04:58:15.559Z"}
{"level":"debug","message":"Fetching CoinGecko rates","service":"currency-exchange-api","timestamp":"2025-11-18T04:58:15.563Z"}
{"level":"debug","message":"Fetching Binance P2P data","service":"currency-exchange-api","timestamp":"2025-11-18T04:58:15.566Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T04:58:16.105Z"}
{"adsCount":20,"level":"debug","message":"Binance P2P data fetched","service":"currency-exchange-api","timestamp":"2025-11-18T04:58:16.209Z"}
{"inr":88.55,"level":"debug","message":"CoinGecko rates fetched","ngn":1442.49,"service":"currency-exchange-api","timestamp":"2025-11-18T04:58:16.245Z"}
{"level":"debug","message":"Analyzing P2P data","service":"currency-exchange-api","timestamp":"2025-11-18T04:58:16.246Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T04:58:16.247Z"}
{"goodAds":4,"level":"debug","lowestRate":96.6,"message":"P2P analysis complete","service":"currency-exchange-api","timestamp":"2025-11-18T04:58:16.247Z","totalAds":20}
{"level":"info","message":"Market data cached","service":"currency-exchange-api","timestamp":"2025-11-18T04:58:16.248Z","ttl":300}
{"duration":693,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T04:58:16.250Z"}
{"level":"debug","message":"Using cached market data","service":"currency-exchange-api","timestamp":"2025-11-18T04:59:40.508Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T04:59:40.512Z"}
{"cacheEnabled":true,"cacheTTL":300,"environment":"development","level":"info","message":"Server started on port 3000","service":"currency-exchange-api","timestamp":"2025-11-18T05:02:29.545Z","version":"1.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T05:02:29.718Z"}
{"level":"debug","message":"Fetching Binance Spot rate","service":"currency-exchange-api","timestamp":"2025-11-18T05:02:29.719Z"}
{"level":"debug","message":"Fetching CoinGecko rates","service":"currency-exchange-api","timestamp":"2025-11-18T05:02:29.756Z"}
{"level":"debug","message":"Fetching Binance P2P data","service":"currency-exchange-api","timestamp":"2025-11-18T05:02:29.759Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T05:02:30.534Z"}
{"adsCount":20,"level":"debug","message":"Binance P2P data fetched","service":"currency-exchange-api","timestamp":"2025-11-18T05:02:30.721Z"}
{"inr":88.55,"level":"debug","message":"CoinGecko rates fetched","ngn":1442.43,"service":"currency-exchange-api","timestamp":"2025-11-18T05:02:30.725Z"}
{"level":"debug","message":"Analyzing P2P data","service":"currency-exchange-api","timestamp":"2025-11-18T05:02:30.727Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T05:02:30.728Z"}
{"goodAds":3,"level":"debug","lowestRate":96.6,"message":"P2P analysis complete","service":"currency-exchange-api","timestamp":"2025-11-18T05:02:30.729Z","totalAds":20}
{"level":"info","message":"Market data cached","service":"currency-exchange-api","timestamp":"2025-11-18T05:02:30.730Z","ttl":300}
{"duration":1019,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T05:02:30.737Z"}
{"cacheEnabled":true,"cacheTTL":300,"environment":"development","level":"info","message":"Server started on port 3000","service":"currency-exchange-api","timestamp":"2025-11-18T05:04:38.829Z","version":"1.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T05:04:42.496Z"}
{"level":"debug","message":"Fetching Binance Spot rate","service":"currency-exchange-api","timestamp":"2025-11-18T05:04:42.498Z"}
{"level":"debug","message":"Fetching CoinGecko rates","service":"currency-exchange-api","timestamp":"2025-11-18T05:04:42.533Z"}
{"level":"debug","message":"Fetching Binance P2P data","service":"currency-exchange-api","timestamp":"2025-11-18T05:04:42.536Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T05:04:43.062Z"}
{"adsCount":20,"level":"debug","message":"Binance P2P data fetched","service":"currency-exchange-api","timestamp":"2025-11-18T05:04:43.223Z"}
{"inr":88.53,"level":"debug","message":"CoinGecko rates fetched","ngn":1442.15,"service":"currency-exchange-api","timestamp":"2025-11-18T05:04:43.310Z"}
{"level":"debug","message":"Analyzing P2P data","service":"currency-exchange-api","timestamp":"2025-11-18T05:04:43.311Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T05:04:43.312Z"}
{"goodAds":3,"level":"debug","lowestRate":96.6,"message":"P2P analysis complete","service":"currency-exchange-api","timestamp":"2025-11-18T05:04:43.313Z","totalAds":20}
{"level":"info","message":"Market data cached","service":"currency-exchange-api","timestamp":"2025-11-18T05:04:43.315Z","ttl":300}
{"duration":825,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T05:04:43.321Z"}
{"cacheEnabled":true,"cacheTTL":300,"environment":"development","level":"info","message":"Server started on port 3000","service":"currency-exchange-api","timestamp":"2025-11-18T05:05:29.993Z","version":"1.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T05:05:31.615Z"}
{"level":"debug","message":"Fetching Binance Spot rate","service":"currency-exchange-api","timestamp":"2025-11-18T05:05:31.617Z"}
{"level":"debug","message":"Fetching CoinGecko rates","service":"currency-exchange-api","timestamp":"2025-11-18T05:05:31.651Z"}
{"level":"debug","message":"Fetching Binance P2P data","service":"currency-exchange-api","timestamp":"2025-11-18T05:05:31.654Z"}
{"inr":88.53,"level":"debug","message":"CoinGecko rates fetched","ngn":1442.15,"service":"currency-exchange-api","timestamp":"2025-11-18T05:05:32.523Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T05:05:32.691Z"}
{"adsCount":20,"level":"debug","message":"Binance P2P data fetched","service":"currency-exchange-api","timestamp":"2025-11-18T05:05:33.103Z"}
{"level":"debug","message":"Analyzing P2P data","service":"currency-exchange-api","timestamp":"2025-11-18T05:05:33.105Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T05:05:33.106Z"}
{"goodAds":4,"level":"debug","lowestRate":96.55,"message":"P2P analysis complete","service":"currency-exchange-api","timestamp":"2025-11-18T05:05:33.106Z","totalAds":20}
{"level":"info","message":"Market data cached","service":"currency-exchange-api","timestamp":"2025-11-18T05:05:33.108Z","ttl":300}
{"duration":1500,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T05:05:33.114Z"}
{"cacheEnabled":true,"cacheTTL":300,"environment":"development","level":"info","message":"Server started on port 3000","service":"currency-exchange-api","timestamp":"2025-11-18T05:10:00.579Z","version":"1.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T05:10:01.344Z"}
{"level":"debug","message":"Fetching Binance Spot rate","service":"currency-exchange-api","timestamp":"2025-11-18T05:10:01.345Z"}
{"level":"debug","message":"Fetching CoinGecko rates","service":"currency-exchange-api","timestamp":"2025-11-18T05:10:01.379Z"}
{"level":"debug","message":"Fetching Binance P2P data","service":"currency-exchange-api","timestamp":"2025-11-18T05:10:01.382Z"}
{"inr":88.53,"level":"debug","message":"CoinGecko rates fetched","ngn":1442.02,"service":"currency-exchange-api","timestamp":"2025-11-18T05:10:02.004Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T05:10:02.045Z"}
{"adsCount":20,"level":"debug","message":"Binance P2P data fetched","service":"currency-exchange-api","timestamp":"2025-11-18T05:10:02.078Z"}
{"level":"debug","message":"Analyzing P2P data","service":"currency-exchange-api","timestamp":"2025-11-18T05:10:02.080Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T05:10:02.081Z"}
{"goodAds":4,"level":"debug","lowestRate":96.6,"message":"P2P analysis complete","service":"currency-exchange-api","timestamp":"2025-11-18T05:10:02.082Z","totalAds":20}
{"level":"info","message":"Market data cached","service":"currency-exchange-api","timestamp":"2025-11-18T05:10:02.083Z","ttl":300}
{"duration":746,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T05:10:02.090Z"}
{"cacheEnabled":true,"cacheTTL":300,"environment":"development","level":"info","message":"Server started on port 3000","service":"currency-exchange-api","timestamp":"2025-11-18T05:10:44.133Z","version":"1.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T05:10:46.053Z"}
{"level":"debug","message":"Fetching Binance Spot rate","service":"currency-exchange-api","timestamp":"2025-11-18T05:10:46.055Z"}
{"level":"debug","message":"Fetching CoinGecko rates","service":"currency-exchange-api","timestamp":"2025-11-18T05:10:46.089Z"}
{"level":"debug","message":"Fetching Binance P2P data","service":"currency-exchange-api","timestamp":"2025-11-18T05:10:46.092Z"}
{"inr":88.53,"level":"debug","message":"CoinGecko rates fetched","ngn":1442.02,"service":"currency-exchange-api","timestamp":"2025-11-18T05:10:48.822Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T05:10:48.953Z"}
{"adsCount":20,"level":"debug","message":"Binance P2P data fetched","service":"currency-exchange-api","timestamp":"2025-11-18T05:10:48.972Z"}
{"level":"debug","message":"Analyzing P2P data","service":"currency-exchange-api","timestamp":"2025-11-18T05:10:48.974Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T05:10:48.975Z"}
{"goodAds":5,"level":"debug","lowestRate":96.6,"message":"P2P analysis complete","service":"currency-exchange-api","timestamp":"2025-11-18T05:10:48.976Z","totalAds":20}
{"level":"info","message":"Market data cached","service":"currency-exchange-api","timestamp":"2025-11-18T05:10:48.977Z","ttl":300}
{"baseCostPerInr":15.134782608695653,"finalRate":0.28629283613387246,"level":"warn","message":"Profit margin below minimum","minRequired":0.5,"profitMargin":-5186.4692016319,"service":"currency-exchange-api","timestamp":"2025-11-18T05:10:48.978Z"}
{"error":"Insufficient profit margin - rates unfavorable","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"APIError: Insufficient profit margin - rates unfavorable\n    at calculateCompetitiveRate (/Users/mac/Desktop/Lovra copy/script.js:531:11)\n    at /Users/mac/Desktop/Lovra copy/script.js:801:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-11-18T05:10:48.979Z"}
{"duration":2934,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T05:10:48.986Z"}
{"cacheEnabled":true,"cacheTTL":300,"environment":"development","level":"info","message":"Server started on port 3000","service":"currency-exchange-api","timestamp":"2025-11-18T05:11:24.629Z","version":"1.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T05:11:25.418Z"}
{"level":"debug","message":"Fetching Binance Spot rate","service":"currency-exchange-api","timestamp":"2025-11-18T05:11:25.421Z"}
{"level":"debug","message":"Fetching CoinGecko rates","service":"currency-exchange-api","timestamp":"2025-11-18T05:11:25.456Z"}
{"level":"debug","message":"Fetching Binance P2P data","service":"currency-exchange-api","timestamp":"2025-11-18T05:11:25.459Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T05:11:25.936Z"}
{"adsCount":20,"level":"debug","message":"Binance P2P data fetched","service":"currency-exchange-api","timestamp":"2025-11-18T05:11:25.963Z"}
{"inr":88.53,"level":"debug","message":"CoinGecko rates fetched","ngn":1442.13,"service":"currency-exchange-api","timestamp":"2025-11-18T05:11:25.984Z"}
{"level":"debug","message":"Analyzing P2P data","service":"currency-exchange-api","timestamp":"2025-11-18T05:11:25.986Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T05:11:25.987Z"}
{"goodAds":5,"level":"debug","lowestRate":96.6,"message":"P2P analysis complete","service":"currency-exchange-api","timestamp":"2025-11-18T05:11:25.988Z","totalAds":20}
{"level":"info","message":"Market data cached","service":"currency-exchange-api","timestamp":"2025-11-18T05:11:25.990Z","ttl":300}
{"duration":580,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T05:11:26.005Z"}
{"cacheEnabled":true,"cacheTTL":300,"environment":"development","level":"info","message":"Server started on port 3000","service":"currency-exchange-api","timestamp":"2025-11-18T05:19:44.190Z","version":"1.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T05:19:54.834Z"}
{"level":"debug","message":"Fetching Binance Spot rate","service":"currency-exchange-api","timestamp":"2025-11-18T05:19:54.835Z"}
{"level":"debug","message":"Fetching CoinGecko rates","service":"currency-exchange-api","timestamp":"2025-11-18T05:19:54.871Z"}
{"level":"debug","message":"Fetching Binance P2P data","service":"currency-exchange-api","timestamp":"2025-11-18T05:19:54.875Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T05:19:55.295Z"}
{"adsCount":20,"level":"debug","message":"Binance P2P data fetched","service":"currency-exchange-api","timestamp":"2025-11-18T05:19:55.311Z"}
{"inr":88.53,"level":"debug","message":"CoinGecko rates fetched","ngn":1442.38,"service":"currency-exchange-api","timestamp":"2025-11-18T05:19:55.941Z"}
{"level":"debug","message":"Analyzing P2P data","service":"currency-exchange-api","timestamp":"2025-11-18T05:19:55.943Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T05:19:55.945Z"}
{"goodAds":6,"level":"debug","lowestRate":96.6,"message":"P2P analysis complete","service":"currency-exchange-api","timestamp":"2025-11-18T05:19:55.946Z","totalAds":20}
{"level":"info","message":"Market data cached","service":"currency-exchange-api","timestamp":"2025-11-18T05:19:55.947Z","ttl":300}
{"duration":1120,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T05:19:55.953Z"}
{"cacheEnabled":true,"cacheTTL":300,"environment":"development","level":"info","message":"Server started on port 3000","service":"currency-exchange-api","timestamp":"2025-11-18T05:22:38.449Z","version":"1.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T05:22:41.873Z"}
{"level":"debug","message":"Fetching Binance Spot rate","service":"currency-exchange-api","timestamp":"2025-11-18T05:22:41.876Z"}
{"level":"debug","message":"Fetching CoinGecko rates","service":"currency-exchange-api","timestamp":"2025-11-18T05:22:41.910Z"}
{"level":"debug","message":"Fetching Binance P2P data","service":"currency-exchange-api","timestamp":"2025-11-18T05:22:41.914Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T05:22:42.495Z"}
{"inr":88.53,"level":"debug","message":"CoinGecko rates fetched","ngn":1442.34,"service":"currency-exchange-api","timestamp":"2025-11-18T05:22:42.618Z"}
{"adsCount":20,"level":"debug","message":"Binance P2P data fetched","service":"currency-exchange-api","timestamp":"2025-11-18T05:22:42.965Z"}
{"level":"debug","message":"Analyzing P2P data","service":"currency-exchange-api","timestamp":"2025-11-18T05:22:42.966Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T05:22:42.967Z"}
{"goodAds":5,"level":"debug","lowestRate":96.6,"message":"P2P analysis complete","service":"currency-exchange-api","timestamp":"2025-11-18T05:22:42.968Z","totalAds":20}
{"level":"info","message":"Market data cached","service":"currency-exchange-api","timestamp":"2025-11-18T05:22:42.970Z","ttl":300}
{"duration":1104,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T05:22:42.976Z"}
{"level":"debug","message":"Using cached market data","service":"currency-exchange-api","timestamp":"2025-11-18T05:26:59.172Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T05:26:59.175Z"}
{"level":"debug","message":"Using cached market data","service":"currency-exchange-api","timestamp":"2025-11-18T05:27:05.971Z"}
{"duration":5,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T05:27:05.975Z"}
{"level":"debug","message":"Using cached market data","service":"currency-exchange-api","timestamp":"2025-11-18T05:27:09.644Z"}
{"duration":5,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T05:27:09.648Z"}
{"level":"debug","message":"Using cached market data","service":"currency-exchange-api","timestamp":"2025-11-18T05:27:13.157Z"}
{"duration":14,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T05:27:13.170Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T05:28:35.008Z"}
{"level":"debug","message":"Fetching Binance Spot rate","service":"currency-exchange-api","timestamp":"2025-11-18T05:28:35.010Z"}
{"level":"debug","message":"Fetching CoinGecko rates","service":"currency-exchange-api","timestamp":"2025-11-18T05:28:35.015Z"}
{"level":"debug","message":"Fetching Binance P2P data","service":"currency-exchange-api","timestamp":"2025-11-18T05:28:35.019Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T05:28:36.514Z"}
{"inr":88.53,"level":"debug","message":"CoinGecko rates fetched","ngn":1442.36,"service":"currency-exchange-api","timestamp":"2025-11-18T05:28:36.589Z"}
{"adsCount":20,"level":"debug","message":"Binance P2P data fetched","service":"currency-exchange-api","timestamp":"2025-11-18T05:28:36.654Z"}
{"level":"debug","message":"Analyzing P2P data","service":"currency-exchange-api","timestamp":"2025-11-18T05:28:36.655Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T05:28:36.656Z"}
{"goodAds":4,"level":"debug","lowestRate":96.66,"message":"P2P analysis complete","service":"currency-exchange-api","timestamp":"2025-11-18T05:28:36.657Z","totalAds":20}
{"level":"info","message":"Market data cached","service":"currency-exchange-api","timestamp":"2025-11-18T05:28:36.657Z","ttl":300}
{"duration":1651,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T05:28:36.659Z"}
{"duration":8,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/convert","service":"currency-exchange-api","statusCode":404,"timestamp":"2025-11-18T05:30:14.180Z"}
{"duration":2,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/convert","service":"currency-exchange-api","statusCode":404,"timestamp":"2025-11-18T05:30:24.552Z"}
{"error":"Admin API key not configured","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/admin/cache/stats","service":"currency-exchange-api","stack":"APIError: Admin API key not configured\n    at validateAdminAuth (/Users/mac/Desktop/Lovra copy/script.js:608:11)\n    at /Users/mac/Desktop/Lovra copy/script.js:926:5\n    at Layer.handleRequest (/Users/mac/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/mac/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/Users/mac/node_modules/router/lib/route.js:117:3)\n    at handle (/Users/mac/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/Users/mac/node_modules/router/lib/layer.js:152:17)\n    at /Users/mac/node_modules/router/index.js:295:15\n    at processParams (/Users/mac/node_modules/router/index.js:582:12)\n    at next (/Users/mac/node_modules/router/index.js:291:5)","timestamp":"2025-11-18T05:30:52.089Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/admin/cache/stats","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T05:30:52.092Z"}
{"cacheEnabled":true,"cacheTTL":300,"environment":"development","level":"info","message":"Server started on port 3000","service":"currency-exchange-api","timestamp":"2025-11-18T06:16:19.628Z","version":"1.0.0"}
{"cacheEnabled":true,"cacheTTL":300,"environment":"development","level":"info","message":"Server started on port 3000","service":"currency-exchange-api","timestamp":"2025-11-18T06:22:20.962Z","version":"1.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T06:22:43.482Z"}
{"level":"debug","message":"Fetching Binance Spot rate","service":"currency-exchange-api","timestamp":"2025-11-18T06:22:43.484Z"}
{"level":"debug","message":"Fetching CoinGecko rates","service":"currency-exchange-api","timestamp":"2025-11-18T06:22:43.525Z"}
{"level":"debug","message":"Fetching Binance P2P data","service":"currency-exchange-api","timestamp":"2025-11-18T06:22:43.530Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T06:22:44.021Z"}
{"inr":88.53,"level":"debug","message":"CoinGecko rates fetched","ngn":1442.41,"service":"currency-exchange-api","timestamp":"2025-11-18T06:22:44.099Z"}
{"adsCount":20,"level":"debug","message":"Binance P2P data fetched","service":"currency-exchange-api","timestamp":"2025-11-18T06:22:44.404Z"}
{"level":"debug","message":"Analyzing P2P data","service":"currency-exchange-api","timestamp":"2025-11-18T06:22:44.407Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T06:22:44.408Z"}
{"goodAds":2,"level":"debug","lowestRate":96.86,"message":"P2P analysis complete","service":"currency-exchange-api","timestamp":"2025-11-18T06:22:44.409Z","totalAds":20}
{"level":"info","message":"Market data cached","service":"currency-exchange-api","timestamp":"2025-11-18T06:22:44.411Z","ttl":300}
{"duration":977,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T06:22:44.458Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/favicon.ico","service":"currency-exchange-api","statusCode":404,"timestamp":"2025-11-18T06:22:44.792Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T06:40:18.883Z"}
{"level":"debug","message":"Fetching Binance Spot rate","service":"currency-exchange-api","timestamp":"2025-11-18T06:40:18.884Z"}
{"level":"debug","message":"Fetching CoinGecko rates","service":"currency-exchange-api","timestamp":"2025-11-18T06:40:18.888Z"}
{"level":"debug","message":"Fetching Binance P2P data","service":"currency-exchange-api","timestamp":"2025-11-18T06:40:18.891Z"}
{"error":"Request timeout","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T06:40:23.893Z"}
{"attempt":1,"error":"Request timeout","level":"warn","message":"Request failed, retrying (1/3)","service":"currency-exchange-api","timestamp":"2025-11-18T06:40:23.899Z"}
{"error":"Request timeout","level":"error","message":"CoinGecko fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T06:40:40.708Z"}
{"attempt":2,"error":"Request timeout","level":"warn","message":"Request failed, retrying (2/3)","service":"currency-exchange-api","timestamp":"2025-11-18T06:40:43.035Z"}
{"error":"Request timeout","level":"error","message":"Binance P2P fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T06:41:09.912Z"}
{"error":"Critical: P2P data unavailable","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: Critical: P2P data unavailable\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:669:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:817:24","timestamp":"2025-11-18T06:41:09.915Z"}
{"duration":51035,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T06:41:09.918Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T06:44:01.477Z"}
{"level":"debug","message":"Fetching Binance Spot rate","service":"currency-exchange-api","timestamp":"2025-11-18T06:44:01.478Z"}
{"level":"debug","message":"Fetching CoinGecko rates","service":"currency-exchange-api","timestamp":"2025-11-18T06:44:01.483Z"}
{"level":"debug","message":"Fetching Binance P2P data","service":"currency-exchange-api","timestamp":"2025-11-18T06:44:01.486Z"}
{"inr":88.52,"level":"debug","message":"CoinGecko rates fetched","ngn":1442.12,"service":"currency-exchange-api","timestamp":"2025-11-18T06:44:05.315Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T06:44:06.369Z"}
{"attempt":1,"error":"Request timeout","level":"warn","message":"Request failed, retrying (1/3)","service":"currency-exchange-api","timestamp":"2025-11-18T06:44:06.489Z"}
{"attempt":2,"error":"Request timeout","level":"warn","message":"Request failed, retrying (2/3)","service":"currency-exchange-api","timestamp":"2025-11-18T06:44:12.502Z"}
{"adsCount":20,"level":"debug","message":"Binance P2P data fetched","service":"currency-exchange-api","timestamp":"2025-11-18T06:44:15.659Z"}
{"level":"debug","message":"Analyzing P2P data","service":"currency-exchange-api","timestamp":"2025-11-18T06:44:15.660Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T06:44:15.661Z"}
{"goodAds":3,"level":"debug","lowestRate":96.67,"message":"P2P analysis complete","service":"currency-exchange-api","timestamp":"2025-11-18T06:44:15.661Z","totalAds":20}
{"level":"info","message":"Market data cached","service":"currency-exchange-api","timestamp":"2025-11-18T06:44:15.662Z","ttl":300}
{"duration":14186,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T06:44:15.663Z"}
{"cacheEnabled":true,"cacheTTL":1800,"environment":"development","fallbackNgnRate":1650,"level":"info","maxRetries":5,"message":"Server started on port 3000","retryDelay":2000,"service":"currency-exchange-api","timestamp":"2025-11-18T06:56:45.398Z","trustProxy":true,"version":"1.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T06:56:53.388Z"}
{"level":"debug","message":"Fetching Binance Spot rate","service":"currency-exchange-api","timestamp":"2025-11-18T06:56:53.390Z"}
{"level":"debug","message":"Fetching CoinGecko rates","service":"currency-exchange-api","timestamp":"2025-11-18T06:56:53.436Z"}
{"level":"debug","message":"Fetching Binance P2P data","service":"currency-exchange-api","timestamp":"2025-11-18T06:56:53.439Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T06:56:53.880Z"}
{"inr":88.56,"level":"debug","message":"CoinGecko rates fetched","ngn":1442.53,"service":"currency-exchange-api","timestamp":"2025-11-18T06:56:54.029Z"}
{"adsCount":20,"level":"debug","message":"Binance P2P data fetched","service":"currency-exchange-api","timestamp":"2025-11-18T06:56:54.665Z"}
{"level":"debug","message":"Using fetched NGN rate from CoinGecko","ngnRate":1442.53,"service":"currency-exchange-api","timestamp":"2025-11-18T06:56:54.666Z"}
{"level":"debug","message":"Analyzing P2P data","service":"currency-exchange-api","timestamp":"2025-11-18T06:56:54.667Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T06:56:54.668Z"}
{"goodAds":3,"level":"debug","lowestRate":96.5,"message":"P2P analysis complete","service":"currency-exchange-api","timestamp":"2025-11-18T06:56:54.669Z","totalAds":20}
{"level":"info","message":"Market data cached","service":"currency-exchange-api","timestamp":"2025-11-18T06:56:54.671Z","ttl":1800,"usedFallback":false}
{"duration":1343,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T06:56:54.731Z"}
{"cacheEnabled":true,"cacheTTL":1800,"environment":"development","fallbackNgnRate":1650,"level":"info","maxRetries":5,"message":"Server started on port 3000","retryDelay":2000,"service":"currency-exchange-api","timestamp":"2025-11-18T09:32:51.541Z","trustProxy":true,"version":"1.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T09:33:03.203Z"}
{"level":"debug","message":"Fetching Binance Spot rate","service":"currency-exchange-api","timestamp":"2025-11-18T09:33:03.204Z"}
{"level":"debug","message":"Fetching CoinGecko rates","service":"currency-exchange-api","timestamp":"2025-11-18T09:33:03.287Z"}
{"level":"debug","message":"Fetching Binance P2P data","service":"currency-exchange-api","timestamp":"2025-11-18T09:33:03.289Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T09:33:04.859Z"}
{"adsCount":20,"level":"debug","message":"Binance P2P data fetched","service":"currency-exchange-api","timestamp":"2025-11-18T09:33:05.583Z"}
{"inr":88.51,"level":"debug","message":"CoinGecko rates fetched","ngn":1444.18,"service":"currency-exchange-api","timestamp":"2025-11-18T09:33:05.589Z"}
{"level":"debug","message":"Using fetched NGN rate from CoinGecko","ngnRate":1444.18,"service":"currency-exchange-api","timestamp":"2025-11-18T09:33:05.590Z"}
{"level":"debug","message":"Analyzing P2P data","service":"currency-exchange-api","timestamp":"2025-11-18T09:33:05.591Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T09:33:05.592Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:443:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:691:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:828:24","timestamp":"2025-11-18T09:33:05.593Z"}
{"duration":2409,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T09:33:05.611Z"}
{"duration":1,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/favicon.ico","service":"currency-exchange-api","statusCode":404,"timestamp":"2025-11-18T09:33:05.836Z"}
{"cacheEnabled":true,"cacheTTL":1800,"environment":"development","fallbackNgnRate":1650,"level":"info","maxRetries":5,"message":"Server started on port 3000","retryDelay":2000,"service":"currency-exchange-api","timestamp":"2025-11-18T10:50:54.671Z","trustProxy":true,"version":"1.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T10:51:46.766Z"}
{"level":"debug","message":"Fetching Binance Spot rate","service":"currency-exchange-api","timestamp":"2025-11-18T10:51:46.770Z"}
{"level":"debug","message":"Fetching CoinGecko rates","service":"currency-exchange-api","timestamp":"2025-11-18T10:51:46.846Z"}
{"level":"debug","message":"Fetching Binance P2P data","service":"currency-exchange-api","timestamp":"2025-11-18T10:51:46.855Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T10:51:48.725Z"}
{"adsCount":20,"level":"debug","message":"Binance P2P data fetched","service":"currency-exchange-api","timestamp":"2025-11-18T10:51:48.895Z"}
{"inr":88.51,"level":"debug","message":"CoinGecko rates fetched","ngn":1444.65,"service":"currency-exchange-api","timestamp":"2025-11-18T10:51:49.005Z"}
{"level":"debug","message":"Using fetched NGN rate from CoinGecko","ngnRate":1444.65,"service":"currency-exchange-api","timestamp":"2025-11-18T10:51:49.007Z"}
{"level":"debug","message":"Analyzing P2P data","service":"currency-exchange-api","timestamp":"2025-11-18T10:51:49.010Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T10:51:49.011Z"}
{"goodAds":1,"level":"debug","lowestRate":97.45,"message":"P2P analysis complete","service":"currency-exchange-api","timestamp":"2025-11-18T10:51:49.011Z","totalAds":20}
{"level":"info","message":"Market data cached","service":"currency-exchange-api","timestamp":"2025-11-18T10:51:49.012Z","ttl":1800,"usedFallback":false}
{"duration":2275,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T10:51:49.075Z"}
{"duration":8,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/favicon.ico","service":"currency-exchange-api","statusCode":404,"timestamp":"2025-11-18T10:51:49.297Z"}
{"level":"debug","message":"Using cached market data","service":"currency-exchange-api","timestamp":"2025-11-18T10:52:27.583Z"}
{"duration":6,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T10:52:27.588Z"}
{"level":"debug","message":"Using cached market data","service":"currency-exchange-api","timestamp":"2025-11-18T10:53:06.158Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T10:53:06.161Z"}
{"databaseURL":"https://payment-method-tech-crypto-default-rtdb.europe-west1.firebasedatabase.app","level":"info","message":"Firebase initialized successfully","projectId":"payment-method-tech-crypto","service":"currency-exchange-api","timestamp":"2025-11-18T11:37:50.733Z"}
{"cacheEnabled":true,"cacheTTL":1800,"encryptionEnabled":true,"environment":"production","fallbackNgnRate":1650,"firebaseConnected":true,"level":"info","maxRetries":5,"message":"ðŸš€ HorizonPay API started on port 3000","retryDelay":2000,"service":"currency-exchange-api","sessionTTL":"300s","timestamp":"2025-11-18T11:37:50.834Z","trustProxy":true,"version":"2.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T11:38:31.191Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T11:38:34.585Z"}
{"error":"Failed to parse response","level":"error","message":"CoinGecko fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T11:38:37.637Z"}
{"fallbackRate":1650,"level":"warn","message":"CoinGecko NGN unavailable, using fallback rate","service":"currency-exchange-api","timestamp":"2025-11-18T11:38:37.639Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T11:38:37.641Z"}
{"level":"info","message":"Market data cached","service":"currency-exchange-api","timestamp":"2025-11-18T11:38:37.645Z","ttl":1800,"usedFallback":true}
{"baseCostPerInr":17.338039867109636,"finalRate":15.87,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.5,"profitMargin":-9.250408740451398,"service":"currency-exchange-api","timestamp":"2025-11-18T11:38:37.647Z"}
{"baseCostPerInr":17.338039867109636,"finalRate":15.87,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.5,"profitMargin":-9.250408740451398,"service":"currency-exchange-api","timestamp":"2025-11-18T11:38:37.647Z"}
{"forcedMargin":1.488409845967986,"forcedRate":17.6,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T11:38:37.648Z"}
{"duration":6475,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T11:38:37.665Z"}
{"databaseURL":"https://payment-method-tech-crypto-default-rtdb.europe-west1.firebasedatabase.app","level":"info","message":"Firebase initialized successfully","projectId":"payment-method-tech-crypto","service":"currency-exchange-api","timestamp":"2025-11-18T11:41:24.262Z"}
{"cacheEnabled":true,"cacheTTL":1800,"encryptionEnabled":true,"environment":"production","fallbackNgnRate":1650,"firebaseConnected":true,"level":"info","maxRetries":5,"message":"ðŸš€ HorizonPay API started on port 3000","retryDelay":2000,"service":"currency-exchange-api","sessionTTL":"300s","timestamp":"2025-11-18T11:41:24.305Z","trustProxy":true,"version":"2.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T11:41:25.710Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T11:41:29.287Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T11:41:29.844Z"}
{"level":"info","message":"Market data cached","service":"currency-exchange-api","timestamp":"2025-11-18T11:41:29.846Z","ttl":1800,"usedFallback":false}
{"finalRate":15.86,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.152650636552155,"savingsPercent":2.098765432098765,"savingsVsMin":0.33999999999999986,"service":"currency-exchange-api","timestamp":"2025-11-18T11:41:29.850Z"}
{"duration":4182,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T11:41:29.891Z"}
{"finalRate":15.89,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.333608501933122,"savingsPercent":1.9135802469135723,"savingsVsMin":0.3099999999999987,"service":"currency-exchange-api","timestamp":"2025-11-18T11:41:53.239Z"}
{"duration":6,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T11:41:53.244Z"}
{"finalRate":15.97,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.812839016638529,"savingsPercent":1.4197530864197447,"savingsVsMin":0.22999999999999865,"service":"currency-exchange-api","timestamp":"2025-11-18T11:41:56.683Z"}
{"duration":9,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T11:41:56.691Z"}
{"finalRate":15.95,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.693482074966594,"savingsPercent":1.54320987654321,"savingsVsMin":0.25,"service":"currency-exchange-api","timestamp":"2025-11-18T11:42:04.416Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T11:42:04.420Z"}
{"finalRate":15.86,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.152650636552155,"savingsPercent":2.098765432098765,"savingsVsMin":0.33999999999999986,"service":"currency-exchange-api","timestamp":"2025-11-18T11:42:06.631Z"}
{"duration":5,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T11:42:06.635Z"}
{"error":"child failed: path argument was an invalid path = \"jane@example.com\". Paths must be non-empty strings and can't contain \".\", \"#\", \"$\", \"[\", or \"]\"","level":"error","message":"Fraud check failed","service":"currency-exchange-api","timestamp":"2025-11-18T11:44:41.282Z"}
{"finalRate":15.93,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.573825429737428,"savingsPercent":1.6666666666666643,"savingsVsMin":0.2699999999999996,"service":"currency-exchange-api","timestamp":"2025-11-18T11:44:41.284Z"}
{"error":"sanitizeForLog is not defined","level":"error","message":"Failed to create transaction session","service":"currency-exchange-api","stack":"ReferenceError: sanitizeForLog is not defined\n    at createTransactionSession (/Users/mac/Desktop/Lovra copy/script.js:878:22)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1380:38","timestamp":"2025-11-18T11:44:45.978Z"}
{"error":"Failed to create transaction session","ip":"::1","level":"error","message":"Request error","method":"POST","path":"/api/convert","service":"currency-exchange-api","stack":"APIError: Failed to create transaction session\n    at createTransactionSession (/Users/mac/Desktop/Lovra copy/script.js:890:11)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1380:38","timestamp":"2025-11-18T11:44:45.982Z"}
{"duration":4719,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/convert","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T11:44:45.984Z"}
{"finalRate":15.91,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.453867950705045,"savingsPercent":1.7901234567901183,"savingsVsMin":0.28999999999999915,"service":"currency-exchange-api","timestamp":"2025-11-18T11:45:43.772Z"}
{"error":"sanitizeForLog is not defined","level":"error","message":"Failed to create transaction session","service":"currency-exchange-api","stack":"ReferenceError: sanitizeForLog is not defined\n    at createTransactionSession (/Users/mac/Desktop/Lovra copy/script.js:878:22)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1380:38","timestamp":"2025-11-18T11:45:47.482Z"}
{"error":"Failed to create transaction session","ip":"::1","level":"error","message":"Request error","method":"POST","path":"/api/convert","service":"currency-exchange-api","stack":"APIError: Failed to create transaction session\n    at createTransactionSession (/Users/mac/Desktop/Lovra copy/script.js:890:11)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1380:38","timestamp":"2025-11-18T11:45:47.484Z"}
{"duration":4925,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/convert","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T11:45:47.486Z"}
{"finalRate":15.89,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.333608501933122,"savingsPercent":1.9135802469135723,"savingsVsMin":0.3099999999999987,"service":"currency-exchange-api","timestamp":"2025-11-18T11:48:57.656Z"}
{"error":"sanitizeForLog is not defined","level":"error","message":"Failed to create transaction session","service":"currency-exchange-api","stack":"ReferenceError: sanitizeForLog is not defined\n    at createTransactionSession (/Users/mac/Desktop/Lovra copy/script.js:878:22)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1380:38","timestamp":"2025-11-18T11:48:58.667Z"}
{"error":"Failed to create transaction session","ip":"::1","level":"error","message":"Request error","method":"POST","path":"/api/convert","service":"currency-exchange-api","stack":"APIError: Failed to create transaction session\n    at createTransactionSession (/Users/mac/Desktop/Lovra copy/script.js:890:11)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1380:38","timestamp":"2025-11-18T11:48:58.668Z"}
{"duration":1503,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/convert","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T11:48:58.673Z"}
{"finalRate":15.89,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.333608501933122,"savingsPercent":1.9135802469135723,"savingsVsMin":0.3099999999999987,"service":"currency-exchange-api","timestamp":"2025-11-18T11:50:18.648Z"}
{"error":"sanitizeForLog is not defined","level":"error","message":"Failed to create transaction session","service":"currency-exchange-api","stack":"ReferenceError: sanitizeForLog is not defined\n    at createTransactionSession (/Users/mac/Desktop/Lovra copy/script.js:878:22)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1380:38","timestamp":"2025-11-18T11:50:20.012Z"}
{"error":"Failed to create transaction session","ip":"::1","level":"error","message":"Request error","method":"POST","path":"/api/convert","service":"currency-exchange-api","stack":"APIError: Failed to create transaction session\n    at createTransactionSession (/Users/mac/Desktop/Lovra copy/script.js:890:11)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1380:38","timestamp":"2025-11-18T11:50:20.016Z"}
{"duration":1963,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/convert","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T11:50:20.019Z"}
{"level":"info","message":"Cleaned up 2 expired sessions","service":"currency-exchange-api","timestamp":"2025-11-18T11:51:25.630Z"}
{"databaseURL":"https://payment-method-tech-crypto-default-rtdb.europe-west1.firebasedatabase.app","level":"info","message":"Firebase initialized successfully","projectId":"payment-method-tech-crypto","service":"currency-exchange-api","timestamp":"2025-11-18T11:52:59.978Z"}
{"cacheEnabled":true,"cacheTTL":1800,"encryptionEnabled":true,"environment":"production","fallbackNgnRate":1650,"firebaseConnected":true,"level":"info","maxRetries":5,"message":"ðŸš€ HorizonPay API started on port 3000","retryDelay":2000,"service":"currency-exchange-api","sessionTTL":"300s","timestamp":"2025-11-18T11:53:00.011Z","trustProxy":true,"version":"2.0.0"}
{"databaseURL":"https://payment-method-tech-crypto-default-rtdb.europe-west1.firebasedatabase.app","level":"info","message":"Firebase initialized successfully","projectId":"payment-method-tech-crypto","service":"currency-exchange-api","timestamp":"2025-11-18T11:54:04.220Z"}
{"cacheEnabled":true,"cacheTTL":1800,"encryptionEnabled":true,"environment":"production","fallbackNgnRate":1650,"firebaseConnected":true,"level":"info","maxRetries":5,"message":"ðŸš€ HorizonPay API started on port 3000","retryDelay":2000,"service":"currency-exchange-api","sessionTTL":"300s","timestamp":"2025-11-18T11:54:04.259Z","trustProxy":true,"version":"2.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T11:56:33.195Z"}
{"error":"Failed to parse response","level":"error","message":"CoinGecko fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T11:56:33.552Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T11:56:33.863Z"}
{"fallbackRate":1650,"level":"warn","message":"CoinGecko NGN unavailable, using fallback rate","service":"currency-exchange-api","timestamp":"2025-11-18T11:56:34.589Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T11:56:34.591Z"}
{"level":"info","message":"Market data cached","service":"currency-exchange-api","timestamp":"2025-11-18T11:56:34.594Z","ttl":1800,"usedFallback":true}
{"baseCostPerInr":17.307493004456422,"finalRate":15.95,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-8.510927927626474,"service":"currency-exchange-api","timestamp":"2025-11-18T11:56:34.595Z"}
{"baseCostPerInr":17.307493004456422,"finalRate":15.95,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-8.510927927626474,"service":"currency-exchange-api","timestamp":"2025-11-18T11:56:34.596Z"}
{"forcedMargin":1.3818062424135544,"forcedRate":17.55,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T11:56:34.597Z"}
{"level":"info","message":"Attempting to save transaction to Firebase","service":"currency-exchange-api","sessionId":"d64b65c1-a85c-4b2b-aa6c-6204e06b0a25","timestamp":"2025-11-18T11:56:34.609Z"}
{"expiresAt":"2025-11-18T12:01:34.599Z","level":"info","message":"Transaction session created successfully","service":"currency-exchange-api","sessionId":"d64b65c1-a85c-4b2b-aa6c-6204e06b0a25","status":"pending","timestamp":"2025-11-18T11:56:35.956Z"}
{"error":"sanitizeForLog is not defined","ip":"::1","level":"error","message":"Request error","method":"POST","path":"/api/convert","service":"currency-exchange-api","stack":"ReferenceError: sanitizeForLog is not defined\n    at /Users/mac/Desktop/Lovra copy/script.js:1408:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-11-18T11:56:35.961Z"}
{"duration":5353,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/convert","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T11:56:35.966Z"}
{"databaseURL":"https://payment-method-tech-crypto-default-rtdb.europe-west1.firebasedatabase.app","level":"info","message":"Firebase initialized successfully","projectId":"payment-method-tech-crypto","service":"currency-exchange-api","timestamp":"2025-11-18T12:03:24.488Z"}
{"cacheEnabled":true,"cacheTTL":1800,"encryptionEnabled":true,"environment":"production","fallbackNgnRate":1650,"firebaseConnected":true,"level":"info","maxRetries":5,"message":"ðŸš€ HorizonPay API started on port 3000","retryDelay":2000,"service":"currency-exchange-api","sessionTTL":"300s","timestamp":"2025-11-18T12:03:24.564Z","trustProxy":true,"version":"2.0.0"}
{"error":"Invalid input data","ip":"::1","level":"error","message":"Request error","method":"POST","path":"/api/convert","service":"currency-exchange-api","stack":"ValidationError: Invalid input data\n    at /Users/mac/Desktop/Lovra copy/script.js:1343:13\n    at Layer.handle [as handle_request] (/Users/mac/Desktop/Lovra copy/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/mac/Desktop/Lovra copy/node_modules/express/lib/router/route.js:149:13)\n    at middleware (/Users/mac/Desktop/Lovra copy/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-11-18T12:04:03.639Z"}
{"duration":22,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/convert","service":"currency-exchange-api","statusCode":400,"timestamp":"2025-11-18T12:04:03.650Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T12:06:23.308Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T12:06:23.991Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T12:06:24.012Z"}
{"level":"info","message":"Market data cached","service":"currency-exchange-api","timestamp":"2025-11-18T12:06:24.016Z","ttl":1800,"usedFallback":false}
{"finalRate":15.95,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.874835309617909,"savingsPercent":1.54320987654321,"savingsVsMin":0.25,"service":"currency-exchange-api","timestamp":"2025-11-18T12:06:24.017Z"}
{"level":"info","message":"Attempting to save transaction to Firebase","service":"currency-exchange-api","sessionId":"d2e77ec2-c6dc-4ed9-9a3c-f91d895be4c2","timestamp":"2025-11-18T12:06:24.044Z"}
{"expiresAt":"2025-11-18T12:11:24.020Z","level":"info","message":"Transaction session created successfully","service":"currency-exchange-api","sessionId":"d2e77ec2-c6dc-4ed9-9a3c-f91d895be4c2","status":"pending","timestamp":"2025-11-18T12:06:24.661Z"}
{"amount":250000,"exchangeRate":15.95,"from":"NGN","level":"info","message":"Transaction initiated","profitMargin":4.874835309617909,"rateSource":"Binance P2P (Primary)","sanitizedUser":{"customerName":"Anonymous","email":null,"paymentMethod":null,"phone":null,"receiveMethod":null},"service":"currency-exchange-api","sessionId":"d2e77ec2-c6dc-4ed9-9a3c-f91d895be4c2","timestamp":"2025-11-18T12:06:24.663Z","to":"INR","usedCoinGeckoFallback":false}
{"duration":5079,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/convert","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T12:06:25.732Z"}
{"level":"info","message":"Cleaned up 2 expired sessions","service":"currency-exchange-api","timestamp":"2025-11-18T12:13:26.924Z"}
{"finalRate":15.94,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.8151582928736305,"savingsPercent":1.604938271604937,"savingsVsMin":0.2599999999999998,"service":"currency-exchange-api","timestamp":"2025-11-18T12:13:32.239Z"}
{"level":"info","message":"Attempting to save transaction to Firebase","service":"currency-exchange-api","sessionId":"3e8e7047-662e-472f-963b-3ab4184fae5b","timestamp":"2025-11-18T12:13:32.245Z"}
{"expiresAt":"2025-11-18T12:18:32.242Z","level":"info","message":"Transaction session created successfully","service":"currency-exchange-api","sessionId":"3e8e7047-662e-472f-963b-3ab4184fae5b","status":"pending","timestamp":"2025-11-18T12:13:32.748Z"}
{"amount":50000,"exchangeRate":15.94,"from":"NGN","level":"info","message":"Transaction initiated","profitMargin":4.8151582928736305,"rateSource":"Binance P2P (Primary)","sanitizedUser":{"customerName":"Anonymous","email":null,"paymentMethod":null,"phone":null,"receiveMethod":null},"service":"currency-exchange-api","sessionId":"3e8e7047-662e-472f-963b-3ab4184fae5b","timestamp":"2025-11-18T12:13:32.750Z","to":"INR","usedCoinGeckoFallback":false}
{"duration":1043,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/convert","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T12:13:32.752Z"}
{"duration":515,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/transaction/3e8e7047-662e-472f-963b-3ab4184fae5b","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T12:17:45.282Z"}
{"level":"warn","message":"Attempted to access expired session","service":"currency-exchange-api","sessionId":"3e8e7047-662e-472f-963b-3ab4184fae5b","timestamp":"2025-11-18T12:21:01.579Z"}
{"error":"Session expired","level":"error","message":"Failed to get transaction session","service":"currency-exchange-api","sessionId":"3e8e7047-662e-472f-963b-3ab4184fae5b","timestamp":"2025-11-18T12:21:01.580Z"}
{"error":"Session expired","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/transaction/3e8e7047-662e-472f-963b-3ab4184fae5b","service":"currency-exchange-api","stack":"APIError: Session expired\n    at getTransactionSession (/Users/mac/Desktop/Lovra copy/script.js:975:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1506:21","timestamp":"2025-11-18T12:21:01.581Z"}
{"duration":603,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/transaction/3e8e7047-662e-472f-963b-3ab4184fae5b","service":"currency-exchange-api","statusCode":410,"timestamp":"2025-11-18T12:21:01.588Z"}
{"level":"warn","message":"Attempted to access expired session","service":"currency-exchange-api","sessionId":"3e8e7047-662e-472f-963b-3ab4184fae5b","timestamp":"2025-11-18T12:21:26.360Z"}
{"error":"Session expired","level":"error","message":"Failed to get transaction session","service":"currency-exchange-api","sessionId":"3e8e7047-662e-472f-963b-3ab4184fae5b","timestamp":"2025-11-18T12:21:26.362Z"}
{"error":"Session expired","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/transaction/3e8e7047-662e-472f-963b-3ab4184fae5b","service":"currency-exchange-api","stack":"APIError: Session expired\n    at getTransactionSession (/Users/mac/Desktop/Lovra copy/script.js:975:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1506:21","timestamp":"2025-11-18T12:21:26.363Z"}
{"duration":696,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/transaction/3e8e7047-662e-472f-963b-3ab4184fae5b","service":"currency-exchange-api","statusCode":410,"timestamp":"2025-11-18T12:21:26.365Z"}
{"error":"child failed: path argument was an invalid path = \"rajesh@example.com\". Paths must be non-empty strings and can't contain \".\", \"#\", \"$\", \"[\", or \"]\"","level":"error","message":"Fraud check failed","service":"currency-exchange-api","timestamp":"2025-11-18T12:23:25.092Z"}
{"finalRate":15.9,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.575699571597846,"savingsPercent":1.8518518518518454,"savingsVsMin":0.29999999999999893,"service":"currency-exchange-api","timestamp":"2025-11-18T12:23:25.095Z"}
{"level":"info","message":"Attempting to save transaction to Firebase","service":"currency-exchange-api","sessionId":"caea9b0c-eead-4dca-92e0-49afd5763b8a","timestamp":"2025-11-18T12:23:25.098Z"}
{"expiresAt":"2025-11-18T12:28:25.096Z","level":"info","message":"Transaction session created successfully","service":"currency-exchange-api","sessionId":"caea9b0c-eead-4dca-92e0-49afd5763b8a","status":"pending","timestamp":"2025-11-18T12:23:25.527Z"}
{"amount":100000,"exchangeRate":15.9,"from":"NGN","level":"info","message":"Transaction initiated","profitMargin":4.575699571597846,"rateSource":"Binance P2P (Primary)","sanitizedUser":{"customerName":"Rajesh Kumar","email":"raj***com","paymentMethod":"Bank Transfer","phone":"+91***210","receiveMethod":"UPI"},"service":"currency-exchange-api","sessionId":"caea9b0c-eead-4dca-92e0-49afd5763b8a","timestamp":"2025-11-18T12:23:25.530Z","to":"INR","usedCoinGeckoFallback":false}
{"duration":451,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/convert","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T12:23:25.534Z"}
{"level":"info","message":"Cleaned up 1 expired sessions","service":"currency-exchange-api","timestamp":"2025-11-18T12:23:25.536Z"}
{"duration":480,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/transaction/caea9b0c-eead-4dca-92e0-49afd5763b8a","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T12:23:53.724Z"}
{"duration":644,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/transaction/caea9b0c-eead-4dca-92e0-49afd5763b8a","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:28:13.620Z"}
{"level":"warn","message":"Attempted to access expired session","service":"currency-exchange-api","sessionId":"caea9b0c-eead-4dca-92e0-49afd5763b8a","timestamp":"2025-11-18T12:28:32.456Z"}
{"error":"Session expired","level":"error","message":"Failed to get transaction session","service":"currency-exchange-api","sessionId":"caea9b0c-eead-4dca-92e0-49afd5763b8a","timestamp":"2025-11-18T12:28:32.457Z"}
{"error":"Session expired","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/transaction/caea9b0c-eead-4dca-92e0-49afd5763b8a","service":"currency-exchange-api","stack":"APIError: Session expired\n    at getTransactionSession (/Users/mac/Desktop/Lovra copy/script.js:975:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1506:21","timestamp":"2025-11-18T12:28:32.458Z"}
{"level":"warn","message":"Attempted to access expired session","service":"currency-exchange-api","sessionId":"caea9b0c-eead-4dca-92e0-49afd5763b8a","timestamp":"2025-11-18T12:28:33.156Z"}
{"error":"Session expired","level":"error","message":"Failed to get transaction session","service":"currency-exchange-api","sessionId":"caea9b0c-eead-4dca-92e0-49afd5763b8a","timestamp":"2025-11-18T12:28:33.158Z"}
{"error":"Session expired","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/transaction/caea9b0c-eead-4dca-92e0-49afd5763b8a","service":"currency-exchange-api","stack":"APIError: Session expired\n    at getTransactionSession (/Users/mac/Desktop/Lovra copy/script.js:975:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1506:21","timestamp":"2025-11-18T12:28:33.159Z"}
{"duration":434,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/transaction/caea9b0c-eead-4dca-92e0-49afd5763b8a","service":"currency-exchange-api","statusCode":410,"timestamp":"2025-11-18T12:28:33.163Z"}
{"level":"info","message":"Cleaned up 1 expired sessions","service":"currency-exchange-api","timestamp":"2025-11-18T12:33:26.047Z"}
{"databaseURL":"https://payment-method-tech-crypto-default-rtdb.europe-west1.firebasedatabase.app","level":"info","message":"Firebase initialized successfully","projectId":"payment-method-tech-crypto","service":"currency-exchange-api","timestamp":"2025-11-18T12:40:25.526Z"}
{"cacheEnabled":true,"cacheTTL":1800,"encryptionEnabled":true,"environment":"production","fallbackNgnRate":1650,"firebaseConnected":true,"level":"info","maxRetries":5,"message":"ðŸš€ HorizonPay API started on port 3000","retryDelay":2000,"service":"currency-exchange-api","sessionTTL":"300s","timestamp":"2025-11-18T12:40:25.546Z","trustProxy":true,"version":"2.0.0"}
{"error":"child failed: path argument was an invalid path = \"priya.nair@yahoo.com\". Paths must be non-empty strings and can't contain \".\", \"#\", \"$\", \"[\", or \"]\"","level":"error","message":"Fraud check failed","service":"currency-exchange-api","timestamp":"2025-11-18T12:41:39.680Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T12:41:39.683Z"}
{"error":"Failed to parse response","level":"error","message":"CoinGecko fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T12:41:40.728Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T12:41:42.926Z"}
{"fallbackRate":1650,"level":"warn","message":"CoinGecko NGN unavailable, using fallback rate","service":"currency-exchange-api","timestamp":"2025-11-18T12:41:42.928Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T12:41:42.930Z"}
{"level":"info","message":"Market data cached","service":"currency-exchange-api","timestamp":"2025-11-18T12:41:42.932Z","ttl":1800,"usedFallback":true}
{"baseCostPerInr":17.25028406156389,"finalRate":15.94,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-8.220100762634187,"service":"currency-exchange-api","timestamp":"2025-11-18T12:41:42.933Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.94,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-8.220100762634187,"service":"currency-exchange-api","timestamp":"2025-11-18T12:41:42.934Z"}
{"forcedMargin":1.3705885559525994,"forcedRate":17.49,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:41:42.935Z"}
{"level":"info","message":"Attempting to save transaction to Firebase","service":"currency-exchange-api","sessionId":"e6040c66-f61e-4260-a8f1-1561124e985f","timestamp":"2025-11-18T12:41:42.945Z"}
{"expiresAt":"2025-11-18T12:46:42.937Z","level":"info","message":"Transaction session created successfully","service":"currency-exchange-api","sessionId":"e6040c66-f61e-4260-a8f1-1561124e985f","status":"pending","timestamp":"2025-11-18T12:41:44.036Z"}
{"amount":150000,"exchangeRate":17.49,"from":"NGN","level":"info","message":"Transaction initiated","profitMargin":1.3705885559525994,"rateSource":"P2P (Forced Minimum)","sanitizedUser":{"customerName":"Priya Nair","email":"pri***com","paymentMethod":"Access Bank Transfer","phone":"+91***789","receiveMethod":"UPI"},"service":"currency-exchange-api","sessionId":"e6040c66-f61e-4260-a8f1-1561124e985f","timestamp":"2025-11-18T12:41:44.037Z","to":"INR","usedCoinGeckoFallback":false}
{"duration":4412,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/convert","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T12:41:44.073Z"}
{"adminIp":"::1","customerName":"Priya Nair","level":"info","message":"Admin accessed transaction details","service":"currency-exchange-api","sessionId":"e6040c66-f61e-4260-a8f1-1561124e985f","timestamp":"2025-11-18T12:44:25.883Z"}
{"duration":453,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/admin/transaction/e6040c66-f61e-4260-a8f1-1561124e985f","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T12:44:25.885Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.92,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-8.356055663089755,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:30.413Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.92,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-8.356055663089755,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:30.414Z"}
{"forcedMargin":1.3705885559525994,"forcedRate":17.49,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:30.415Z"}
{"duration":5,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T12:45:30.418Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.95,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-8.152251169679559,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:35.025Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.95,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-8.152251169679559,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:35.027Z"}
{"forcedMargin":1.3705885559525994,"forcedRate":17.49,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:35.029Z"}
{"duration":6,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:45:35.031Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.87,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-8.697442101851857,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:36.341Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.87,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-8.697442101851857,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:36.342Z"}
{"forcedMargin":1.3705885559525994,"forcedRate":17.49,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:36.344Z"}
{"duration":6,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:45:36.347Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.88,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-8.628992831006851,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:36.946Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.88,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-8.628992831006851,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:36.948Z"}
{"forcedMargin":1.3705885559525994,"forcedRate":17.49,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:36.950Z"}
{"duration":6,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:45:36.952Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.89,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-8.560629714058452,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:37.364Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.89,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-8.560629714058452,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:37.365Z"}
{"forcedMargin":1.3705885559525994,"forcedRate":17.49,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:37.367Z"}
{"duration":6,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:45:37.369Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.91,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-8.42416129204204,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:37.784Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.91,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-8.42416129204204,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:37.785Z"}
{"forcedMargin":1.3705885559525994,"forcedRate":17.49,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:37.787Z"}
{"duration":7,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:45:37.790Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.88,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-8.628992831006851,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:38.141Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.88,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-8.628992831006851,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:38.143Z"}
{"forcedMargin":1.3705885559525994,"forcedRate":17.49,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:38.144Z"}
{"duration":8,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:45:38.148Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.87,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-8.697442101851857,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:38.443Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.87,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-8.697442101851857,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:38.446Z"}
{"forcedMargin":1.3705885559525994,"forcedRate":17.49,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:38.447Z"}
{"duration":9,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:45:38.451Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.93,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-8.288035540262957,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:38.712Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.93,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-8.288035540262957,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:38.714Z"}
{"forcedMargin":1.3705885559525994,"forcedRate":17.49,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:38.716Z"}
{"duration":6,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:45:38.718Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.85,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-8.834599757500879,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:38.968Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.85,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-8.834599757500879,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:38.970Z"}
{"forcedMargin":1.3705885559525994,"forcedRate":17.49,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:38.972Z"}
{"duration":6,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:45:38.973Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.91,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-8.42416129204204,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:39.186Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.91,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-8.42416129204204,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:39.189Z"}
{"forcedMargin":1.3705885559525994,"forcedRate":17.49,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:39.190Z"}
{"duration":7,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:45:39.193Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.86,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-8.76597768955794,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:39.404Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.86,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-8.76597768955794,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:39.407Z"}
{"forcedMargin":1.3705885559525994,"forcedRate":17.49,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:39.408Z"}
{"duration":6,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:45:39.411Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.91,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-8.42416129204204,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:39.593Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.91,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-8.42416129204204,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:39.594Z"}
{"forcedMargin":1.3705885559525994,"forcedRate":17.49,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:39.595Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:45:39.597Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.92,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-8.356055663089755,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:39.780Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.92,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-8.356055663089755,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:39.781Z"}
{"forcedMargin":1.3705885559525994,"forcedRate":17.49,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:39.782Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:45:39.783Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.87,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-8.697442101851857,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:39.947Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.87,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-8.697442101851857,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:39.948Z"}
{"forcedMargin":1.3705885559525994,"forcedRate":17.49,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:39.949Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:45:39.951Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.96,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-8.084486601277494,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:40.144Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.96,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-8.084486601277494,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:40.146Z"}
{"forcedMargin":1.3705885559525994,"forcedRate":17.49,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:40.147Z"}
{"duration":5,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:45:40.149Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.86,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-8.76597768955794,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:40.342Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.86,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-8.76597768955794,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:40.343Z"}
{"forcedMargin":1.3705885559525994,"forcedRate":17.49,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:40.344Z"}
{"duration":6,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:45:40.347Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.96,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-8.084486601277494,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:40.826Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.96,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-8.084486601277494,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:40.827Z"}
{"forcedMargin":1.3705885559525994,"forcedRate":17.49,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:40.829Z"}
{"duration":5,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:45:40.831Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.89,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-8.560629714058452,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:41.049Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.89,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-8.560629714058452,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:41.050Z"}
{"forcedMargin":1.3705885559525994,"forcedRate":17.49,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:41.052Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:45:41.053Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.96,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-8.084486601277494,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:41.247Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.96,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-8.084486601277494,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:41.248Z"}
{"forcedMargin":1.3705885559525994,"forcedRate":17.49,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:41.249Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:45:41.250Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.91,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-8.42416129204204,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:41.432Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.91,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-8.42416129204204,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:41.433Z"}
{"forcedMargin":1.3705885559525994,"forcedRate":17.49,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:41.435Z"}
{"duration":6,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:45:41.437Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.88,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-8.628992831006851,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:41.657Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.88,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-8.628992831006851,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:41.658Z"}
{"forcedMargin":1.3705885559525994,"forcedRate":17.49,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:41.659Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:45:41.662Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.94,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-8.220100762634187,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:41.872Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.94,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-8.220100762634187,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:41.875Z"}
{"forcedMargin":1.3705885559525994,"forcedRate":17.49,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:41.876Z"}
{"duration":6,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:45:41.878Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.96,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-8.084486601277494,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:42.075Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.96,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-8.084486601277494,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:42.076Z"}
{"forcedMargin":1.3705885559525994,"forcedRate":17.49,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:42.077Z"}
{"duration":5,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:45:42.079Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.91,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-8.42416129204204,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:42.275Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.91,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-8.42416129204204,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:42.276Z"}
{"forcedMargin":1.3705885559525994,"forcedRate":17.49,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:42.277Z"}
{"duration":5,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:45:42.280Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.98,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-7.949211899648863,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:42.510Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.98,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-7.949211899648863,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:42.511Z"}
{"forcedMargin":1.3705885559525994,"forcedRate":17.49,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:42.512Z"}
{"duration":5,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:45:42.515Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.9,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-8.492352588452128,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:42.760Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.9,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-8.492352588452128,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:42.762Z"}
{"forcedMargin":1.3705885559525994,"forcedRate":17.49,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:42.764Z"}
{"duration":7,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:45:42.766Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.85,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-8.834599757500879,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:42.956Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.85,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-8.834599757500879,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:42.957Z"}
{"forcedMargin":1.3705885559525994,"forcedRate":17.49,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:42.958Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:45:42.960Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.96,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-8.084486601277494,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:43.161Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.96,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-8.084486601277494,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:43.162Z"}
{"forcedMargin":1.3705885559525994,"forcedRate":17.49,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:43.163Z"}
{"duration":6,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:45:43.166Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.87,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-8.697442101851857,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:43.422Z"}
{"baseCostPerInr":17.25028406156389,"finalRate":15.87,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-8.697442101851857,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:43.425Z"}
{"forcedMargin":1.3705885559525994,"forcedRate":17.49,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:43.426Z"}
{"duration":7,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:45:43.430Z"}
{"databaseURL":"https://payment-method-tech-crypto-default-rtdb.europe-west1.firebasedatabase.app","level":"info","message":"Firebase initialized successfully","projectId":"payment-method-tech-crypto","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:56.480Z"}
{"cacheEnabled":true,"cacheTTL":1800,"encryptionEnabled":true,"environment":"production","fallbackNgnRate":1650,"firebaseConnected":true,"level":"info","maxRetries":5,"message":"ðŸš€ HorizonPay API started on port 3000","retryDelay":2000,"service":"currency-exchange-api","sessionTTL":"300s","timestamp":"2025-11-18T12:45:56.507Z","trustProxy":true,"version":"2.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:56.834Z"}
{"error":"Failed to parse response","level":"error","message":"CoinGecko fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:57.327Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:57.520Z"}
{"fallbackRate":1650,"level":"warn","message":"CoinGecko NGN unavailable, using fallback rate","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:57.694Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:57.696Z"}
{"level":"info","message":"Market data cached","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:57.698Z","ttl":1800,"usedFallback":true}
{"baseCostPerInr":17.14403038702392,"finalRate":15.95,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-7.4860839311844645,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:57.699Z"}
{"baseCostPerInr":17.14403038702392,"finalRate":15.95,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-7.4860839311844645,"service":"currency-exchange-api","timestamp":"2025-11-18T12:45:57.700Z"}
{"forcedMargin":1.3577077846724843,"forcedRate":17.38,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:45:57.701Z"}
{"duration":911,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T12:45:57.745Z"}
{"baseCostPerInr":17.14403038702392,"finalRate":15.9,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-7.824090484427175,"service":"currency-exchange-api","timestamp":"2025-11-18T12:46:07.804Z"}
{"baseCostPerInr":17.14403038702392,"finalRate":15.9,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-7.824090484427175,"service":"currency-exchange-api","timestamp":"2025-11-18T12:46:07.806Z"}
{"forcedMargin":1.3577077846724843,"forcedRate":17.38,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:46:07.808Z"}
{"duration":7,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:46:07.810Z"}
{"baseCostPerInr":17.14403038702392,"finalRate":15.95,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-7.4860839311844645,"service":"currency-exchange-api","timestamp":"2025-11-18T12:46:08.814Z"}
{"baseCostPerInr":17.14403038702392,"finalRate":15.95,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-7.4860839311844645,"service":"currency-exchange-api","timestamp":"2025-11-18T12:46:08.816Z"}
{"forcedMargin":1.3577077846724843,"forcedRate":17.38,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:46:08.818Z"}
{"duration":6,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:46:08.820Z"}
{"baseCostPerInr":17.14403038702392,"finalRate":15.93,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-7.621031933609049,"service":"currency-exchange-api","timestamp":"2025-11-18T12:51:26.289Z"}
{"baseCostPerInr":17.14403038702392,"finalRate":15.93,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-7.621031933609049,"service":"currency-exchange-api","timestamp":"2025-11-18T12:51:26.291Z"}
{"forcedMargin":1.3577077846724843,"forcedRate":17.38,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:51:26.292Z"}
{"duration":7,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:51:26.295Z"}
{"baseCostPerInr":17.14403038702392,"finalRate":15.93,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-7.621031933609049,"service":"currency-exchange-api","timestamp":"2025-11-18T12:51:28.843Z"}
{"baseCostPerInr":17.14403038702392,"finalRate":15.93,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-7.621031933609049,"service":"currency-exchange-api","timestamp":"2025-11-18T12:51:28.844Z"}
{"forcedMargin":1.3577077846724843,"forcedRate":17.38,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:51:28.846Z"}
{"duration":6,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:51:28.848Z"}
{"baseCostPerInr":17.14403038702392,"finalRate":15.94,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-7.5535156024085435,"service":"currency-exchange-api","timestamp":"2025-11-18T12:51:57.587Z"}
{"baseCostPerInr":17.14403038702392,"finalRate":15.94,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-7.5535156024085435,"service":"currency-exchange-api","timestamp":"2025-11-18T12:51:57.588Z"}
{"forcedMargin":1.3577077846724843,"forcedRate":17.38,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:51:57.589Z"}
{"duration":7,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:51:57.594Z"}
{"baseCostPerInr":17.14403038702392,"finalRate":15.88,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-7.959889087052395,"service":"currency-exchange-api","timestamp":"2025-11-18T12:51:58.407Z"}
{"baseCostPerInr":17.14403038702392,"finalRate":15.88,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-7.959889087052395,"service":"currency-exchange-api","timestamp":"2025-11-18T12:51:58.409Z"}
{"forcedMargin":1.3577077846724843,"forcedRate":17.38,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:51:58.412Z"}
{"duration":7,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:51:58.414Z"}
{"level":"info","message":"Cleaned up 1 expired sessions","service":"currency-exchange-api","timestamp":"2025-11-18T12:56:02.055Z"}
{"baseCostPerInr":17.14403038702392,"finalRate":15.87,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-8.027916742431772,"service":"currency-exchange-api","timestamp":"2025-11-18T12:57:20.177Z"}
{"baseCostPerInr":17.14403038702392,"finalRate":15.87,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-8.027916742431772,"service":"currency-exchange-api","timestamp":"2025-11-18T12:57:20.180Z"}
{"forcedMargin":1.3577077846724843,"forcedRate":17.38,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:57:20.195Z"}
{"duration":72,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T12:57:20.247Z"}
{"baseCostPerInr":17.14403038702392,"finalRate":15.97,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-7.351473932522984,"service":"currency-exchange-api","timestamp":"2025-11-18T12:57:40.210Z"}
{"baseCostPerInr":17.14403038702392,"finalRate":15.97,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-7.351473932522984,"service":"currency-exchange-api","timestamp":"2025-11-18T12:57:40.211Z"}
{"forcedMargin":1.3577077846724843,"forcedRate":17.38,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:57:40.212Z"}
{"duration":6,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:57:40.216Z"}
{"baseCostPerInr":17.14403038702392,"finalRate":15.95,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-7.4860839311844645,"service":"currency-exchange-api","timestamp":"2025-11-18T12:58:00.151Z"}
{"baseCostPerInr":17.14403038702392,"finalRate":15.95,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-7.4860839311844645,"service":"currency-exchange-api","timestamp":"2025-11-18T12:58:00.152Z"}
{"forcedMargin":1.3577077846724843,"forcedRate":17.38,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:58:00.153Z"}
{"duration":5,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:58:00.155Z"}
{"baseCostPerInr":17.14403038702392,"finalRate":15.92,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-7.688633084321114,"service":"currency-exchange-api","timestamp":"2025-11-18T12:58:20.700Z"}
{"baseCostPerInr":17.14403038702392,"finalRate":15.92,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-7.688633084321114,"service":"currency-exchange-api","timestamp":"2025-11-18T12:58:20.701Z"}
{"forcedMargin":1.3577077846724843,"forcedRate":17.38,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:58:20.702Z"}
{"duration":5,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:58:20.704Z"}
{"baseCostPerInr":17.14403038702392,"finalRate":15.93,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-7.621031933609049,"service":"currency-exchange-api","timestamp":"2025-11-18T12:58:40.150Z"}
{"baseCostPerInr":17.14403038702392,"finalRate":15.93,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-7.621031933609049,"service":"currency-exchange-api","timestamp":"2025-11-18T12:58:40.151Z"}
{"forcedMargin":1.3577077846724843,"forcedRate":17.38,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:58:40.152Z"}
{"duration":5,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:58:40.154Z"}
{"baseCostPerInr":17.14403038702392,"finalRate":15.86,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-8.096030183000769,"service":"currency-exchange-api","timestamp":"2025-11-18T12:59:00.150Z"}
{"baseCostPerInr":17.14403038702392,"finalRate":15.86,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-8.096030183000769,"service":"currency-exchange-api","timestamp":"2025-11-18T12:59:00.152Z"}
{"forcedMargin":1.3577077846724843,"forcedRate":17.38,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:59:00.153Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:59:00.154Z"}
{"baseCostPerInr":17.14403038702392,"finalRate":15.89,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-7.891947054901954,"service":"currency-exchange-api","timestamp":"2025-11-18T12:59:20.148Z"}
{"baseCostPerInr":17.14403038702392,"finalRate":15.89,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-7.891947054901954,"service":"currency-exchange-api","timestamp":"2025-11-18T12:59:20.150Z"}
{"forcedMargin":1.3577077846724843,"forcedRate":17.38,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:59:20.151Z"}
{"duration":5,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:59:20.153Z"}
{"baseCostPerInr":17.14403038702392,"finalRate":15.87,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-8.027916742431772,"service":"currency-exchange-api","timestamp":"2025-11-18T12:59:40.151Z"}
{"baseCostPerInr":17.14403038702392,"finalRate":15.87,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-8.027916742431772,"service":"currency-exchange-api","timestamp":"2025-11-18T12:59:40.152Z"}
{"forcedMargin":1.3577077846724843,"forcedRate":17.38,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T12:59:40.153Z"}
{"duration":5,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T12:59:40.155Z"}
{"baseCostPerInr":17.14403038702392,"finalRate":15.88,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-7.959889087052395,"service":"currency-exchange-api","timestamp":"2025-11-18T13:00:00.700Z"}
{"baseCostPerInr":17.14403038702392,"finalRate":15.88,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-7.959889087052395,"service":"currency-exchange-api","timestamp":"2025-11-18T13:00:00.701Z"}
{"forcedMargin":1.3577077846724843,"forcedRate":17.38,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T13:00:00.702Z"}
{"duration":5,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T13:00:00.704Z"}
{"baseCostPerInr":17.14403038702392,"finalRate":15.86,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-8.096030183000769,"service":"currency-exchange-api","timestamp":"2025-11-18T13:00:20.701Z"}
{"baseCostPerInr":17.14403038702392,"finalRate":15.86,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-8.096030183000769,"service":"currency-exchange-api","timestamp":"2025-11-18T13:00:20.702Z"}
{"forcedMargin":1.3577077846724843,"forcedRate":17.38,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T13:00:20.703Z"}
{"duration":5,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T13:00:20.705Z"}
{"baseCostPerInr":17.14403038702392,"finalRate":15.92,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-7.688633084321114,"service":"currency-exchange-api","timestamp":"2025-11-18T13:00:40.700Z"}
{"baseCostPerInr":17.14403038702392,"finalRate":15.92,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-7.688633084321114,"service":"currency-exchange-api","timestamp":"2025-11-18T13:00:40.701Z"}
{"forcedMargin":1.3577077846724843,"forcedRate":17.38,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T13:00:40.702Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T13:00:40.704Z"}
{"baseCostPerInr":17.14403038702392,"finalRate":15.87,"level":"warn","message":"Profit margin below minimum, attempting CoinGecko fallback","minRequired":0.4,"profitMargin":-8.027916742431772,"service":"currency-exchange-api","timestamp":"2025-11-18T13:01:34.704Z"}
{"baseCostPerInr":17.14403038702392,"finalRate":15.87,"level":"error","message":"Insufficient profit margin and no CoinGecko fallback available","minRequired":0.4,"profitMargin":-8.027916742431772,"service":"currency-exchange-api","timestamp":"2025-11-18T13:01:34.705Z"}
{"forcedMargin":1.3577077846724843,"forcedRate":17.38,"level":"warn","message":"CRITICAL: Forced minimum rate without CoinGecko","service":"currency-exchange-api","timestamp":"2025-11-18T13:01:34.706Z"}
{"duration":5,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T13:01:34.708Z"}
{"databaseURL":"https://payment-method-tech-crypto-default-rtdb.europe-west1.firebasedatabase.app","level":"info","message":"Firebase initialized successfully","projectId":"payment-method-tech-crypto","service":"currency-exchange-api","timestamp":"2025-11-18T14:56:57.061Z"}
{"cacheEnabled":true,"cacheTTL":1800,"encryptionEnabled":true,"environment":"production","fallbackNgnRate":1650,"firebaseConnected":true,"level":"info","maxRetries":5,"message":"ðŸš€ HorizonPay API started on port 3000","retryDelay":2000,"service":"currency-exchange-api","sessionTTL":"300s","timestamp":"2025-11-18T14:56:57.123Z","trustProxy":true,"version":"2.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T14:57:03.533Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T14:57:05.613Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T14:57:05.820Z"}
{"level":"info","message":"Market data cached","service":"currency-exchange-api","timestamp":"2025-11-18T14:57:05.822Z","ttl":1800,"usedFallback":false}
{"finalRate":15.89,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.19011304039572,"savingsPercent":1.9135802469135723,"savingsVsMin":0.3099999999999987,"service":"currency-exchange-api","timestamp":"2025-11-18T14:57:05.823Z"}
{"duration":2297,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T14:57:05.829Z"}
{"finalRate":15.91,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.309295802129978,"savingsPercent":1.7901234567901183,"savingsVsMin":0.28999999999999915,"service":"currency-exchange-api","timestamp":"2025-11-18T14:57:22.564Z"}
{"duration":9,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T14:57:22.576Z"}
{"finalRate":15.96,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.605945877937845,"savingsPercent":1.4814814814814719,"savingsVsMin":0.23999999999999844,"service":"currency-exchange-api","timestamp":"2025-11-18T14:57:42.711Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T14:57:42.714Z"}
{"finalRate":15.94,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.487509172640395,"savingsPercent":1.604938271604937,"savingsVsMin":0.2599999999999998,"service":"currency-exchange-api","timestamp":"2025-11-18T14:58:02.562Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T14:58:02.565Z"}
{"finalRate":15.95,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.546764652782938,"savingsPercent":1.54320987654321,"savingsVsMin":0.25,"service":"currency-exchange-api","timestamp":"2025-11-18T14:58:19.483Z"}
{"level":"info","message":"Attempting to save transaction to Firebase","service":"currency-exchange-api","sessionId":"227fd7ca-e071-47b6-bb86-2f1378f21849","timestamp":"2025-11-18T14:58:19.531Z"}
{"expiresAt":"2025-11-18T15:03:19.485Z","level":"info","message":"Transaction session created successfully","service":"currency-exchange-api","sessionId":"227fd7ca-e071-47b6-bb86-2f1378f21849","status":"pending","timestamp":"2025-11-18T14:58:19.985Z"}
{"amount":1036.1,"exchangeRate":15.95,"from":"NGN","level":"info","message":"Transaction initiated","profitMargin":5.546764652782938,"rateSource":"Binance P2P (Primary)","sanitizedUser":{"customerName":"Yahiya Mouhoumoud","email":null,"paymentMethod":"bank","phone":null,"receiveMethod":"UPI"},"service":"currency-exchange-api","sessionId":"227fd7ca-e071-47b6-bb86-2f1378f21849","timestamp":"2025-11-18T14:58:19.987Z","to":"INR","usedCoinGeckoFallback":false}
{"duration":4475,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/convert","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T14:58:20.549Z"}
{"finalRate":15.87,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.0706298810263295,"savingsPercent":2.0370370370370376,"savingsVsMin":0.33000000000000007,"service":"currency-exchange-api","timestamp":"2025-11-18T14:58:22.561Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T14:58:22.566Z"}
{"finalRate":15.94,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.487509172640395,"savingsPercent":1.604938271604937,"savingsVsMin":0.2599999999999998,"service":"currency-exchange-api","timestamp":"2025-11-18T14:58:42.568Z"}
{"duration":9,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T14:58:42.576Z"}
{"amount":1036.1,"level":"info","message":"Initializing Paystack payment","reference":"HP-227fd7ca-e071-47b6-bb86-2f1378f21849-1763477924113","service":"currency-exchange-api","sessionId":"227fd7ca-e071-47b6-bb86-2f1378f21849","timestamp":"2025-11-18T14:58:44.113Z"}
{"error":"Cannot read properties of undefined (reading 'initialize')","ip":"::1","level":"error","message":"Request error","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of undefined (reading 'initialize')\n    at /Users/mac/Desktop/Lovra copy/script.js:1552:49\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-11-18T14:58:44.137Z"}
{"duration":1794,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T14:58:44.144Z"}
{"finalRate":15.97,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.6650529875947395,"savingsPercent":1.4197530864197447,"savingsVsMin":0.22999999999999865,"service":"currency-exchange-api","timestamp":"2025-11-18T14:59:02.559Z"}
{"duration":8,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T14:59:02.568Z"}
{"amount":1036.1,"level":"info","message":"Initializing Paystack payment","reference":"HP-227fd7ca-e071-47b6-bb86-2f1378f21849-1763477942994","service":"currency-exchange-api","sessionId":"227fd7ca-e071-47b6-bb86-2f1378f21849","timestamp":"2025-11-18T14:59:02.994Z"}
{"error":"Cannot read properties of undefined (reading 'initialize')","ip":"::1","level":"error","message":"Request error","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of undefined (reading 'initialize')\n    at /Users/mac/Desktop/Lovra copy/script.js:1552:49\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-11-18T14:59:02.996Z"}
{"duration":848,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T14:59:03.004Z"}
{"finalRate":15.9,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.24974190011874,"savingsPercent":1.8518518518518454,"savingsVsMin":0.29999999999999893,"service":"currency-exchange-api","timestamp":"2025-11-18T14:59:22.561Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T14:59:22.570Z"}
{"amount":1036.1,"level":"info","message":"Initializing Paystack payment","reference":"HP-227fd7ca-e071-47b6-bb86-2f1378f21849-1763477979857","service":"currency-exchange-api","sessionId":"227fd7ca-e071-47b6-bb86-2f1378f21849","timestamp":"2025-11-18T14:59:39.857Z"}
{"error":"Cannot read properties of undefined (reading 'initialize')","ip":"::1","level":"error","message":"Request error","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of undefined (reading 'initialize')\n    at /Users/mac/Desktop/Lovra copy/script.js:1552:49\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-11-18T14:59:39.858Z"}
{"duration":1188,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T14:59:39.864Z"}
{"finalRate":15.92,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.368774887681402,"savingsPercent":1.7283950617283912,"savingsVsMin":0.27999999999999936,"service":"currency-exchange-api","timestamp":"2025-11-18T14:59:42.562Z"}
{"duration":6,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T14:59:42.567Z"}
{"finalRate":15.92,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.368774887681402,"savingsPercent":1.7283950617283912,"savingsVsMin":0.27999999999999936,"service":"currency-exchange-api","timestamp":"2025-11-18T15:00:02.559Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T15:00:02.561Z"}
{"finalRate":15.86,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.010775297092553,"savingsPercent":2.098765432098765,"savingsVsMin":0.33999999999999986,"service":"currency-exchange-api","timestamp":"2025-11-18T15:00:23.474Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:00:23.477Z"}
{"finalRate":15.89,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.19011304039572,"savingsPercent":1.9135802469135723,"savingsVsMin":0.3099999999999987,"service":"currency-exchange-api","timestamp":"2025-11-18T15:00:54.931Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:00:54.933Z"}
{"finalRate":15.89,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.19011304039572,"savingsPercent":1.9135802469135723,"savingsVsMin":0.3099999999999987,"service":"currency-exchange-api","timestamp":"2025-11-18T15:01:02.751Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T15:01:02.753Z"}
{"finalRate":15.89,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.19011304039572,"savingsPercent":1.9135802469135723,"savingsVsMin":0.3099999999999987,"service":"currency-exchange-api","timestamp":"2025-11-18T15:01:42.954Z"}
{"duration":7,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T15:01:42.960Z"}
{"finalRate":15.88,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.130409081353148,"savingsPercent":1.9753086419752997,"savingsVsMin":0.3199999999999985,"service":"currency-exchange-api","timestamp":"2025-11-18T15:01:43.677Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:01:43.680Z"}
{"finalRate":15.89,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.19011304039572,"savingsPercent":1.9135802469135723,"savingsVsMin":0.3099999999999987,"service":"currency-exchange-api","timestamp":"2025-11-18T15:02:02.560Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:02:02.563Z"}
{"finalRate":15.97,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.6650529875947395,"savingsPercent":1.4197530864197447,"savingsVsMin":0.22999999999999865,"service":"currency-exchange-api","timestamp":"2025-11-18T15:02:22.605Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:02:22.607Z"}
{"finalRate":15.97,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.6650529875947395,"savingsPercent":1.4197530864197447,"savingsVsMin":0.22999999999999865,"service":"currency-exchange-api","timestamp":"2025-11-18T15:02:42.563Z"}
{"duration":2,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T15:02:42.565Z"}
{"finalRate":15.96,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.605945877937845,"savingsPercent":1.4814814814814719,"savingsVsMin":0.23999999999999844,"service":"currency-exchange-api","timestamp":"2025-11-18T15:03:02.561Z"}
{"duration":5,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:03:02.566Z"}
{"finalRate":15.93,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.428179297670302,"savingsPercent":1.6666666666666643,"savingsVsMin":0.2699999999999996,"service":"currency-exchange-api","timestamp":"2025-11-18T15:03:22.561Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:03:22.564Z"}
{"finalRate":15.97,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.6650529875947395,"savingsPercent":1.4197530864197447,"savingsVsMin":0.22999999999999865,"service":"currency-exchange-api","timestamp":"2025-11-18T15:03:42.750Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:03:42.752Z"}
{"level":"warn","message":"Attempted to access expired session","service":"currency-exchange-api","sessionId":"227fd7ca-e071-47b6-bb86-2f1378f21849","timestamp":"2025-11-18T15:03:52.275Z"}
{"error":"Session expired","level":"error","message":"Failed to get transaction session","service":"currency-exchange-api","sessionId":"227fd7ca-e071-47b6-bb86-2f1378f21849","timestamp":"2025-11-18T15:03:52.279Z"}
{"error":"Session expired","ip":"::1","level":"error","message":"Request error","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","stack":"APIError: Session expired\n    at getTransactionSession (/Users/mac/Desktop/Lovra copy/script.js:982:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1513:21","timestamp":"2025-11-18T15:03:52.455Z"}
{"duration":816,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","statusCode":410,"timestamp":"2025-11-18T15:03:52.483Z"}
{"finalRate":15.89,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.19011304039572,"savingsPercent":1.9135802469135723,"savingsVsMin":0.3099999999999987,"service":"currency-exchange-api","timestamp":"2025-11-18T15:04:02.660Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:04:02.663Z"}
{"finalRate":15.97,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.6650529875947395,"savingsPercent":1.4197530864197447,"savingsVsMin":0.22999999999999865,"service":"currency-exchange-api","timestamp":"2025-11-18T15:04:22.867Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:04:22.870Z"}
{"error":"Session not found","level":"error","message":"Failed to get transaction session","service":"currency-exchange-api","sessionId":"test-123","timestamp":"2025-11-18T15:04:45.500Z"}
{"error":"Session not found","ip":"::1","level":"error","message":"Request error","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","stack":"APIError: Session not found\n    at getTransactionSession (/Users/mac/Desktop/Lovra copy/script.js:974:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1513:21","timestamp":"2025-11-18T15:04:45.502Z"}
{"duration":519,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","statusCode":404,"timestamp":"2025-11-18T15:04:45.504Z"}
{"error":"Session not found","level":"error","message":"Failed to get transaction session","service":"currency-exchange-api","sessionId":"test-123","timestamp":"2025-11-18T15:04:56.480Z"}
{"error":"Session not found","ip":"::1","level":"error","message":"Request error","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","stack":"APIError: Session not found\n    at getTransactionSession (/Users/mac/Desktop/Lovra copy/script.js:974:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1513:21","timestamp":"2025-11-18T15:04:56.482Z"}
{"duration":792,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","statusCode":404,"timestamp":"2025-11-18T15:04:56.484Z"}
{"finalRate":15.91,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.309295802129978,"savingsPercent":1.7901234567901183,"savingsVsMin":0.28999999999999915,"service":"currency-exchange-api","timestamp":"2025-11-18T15:05:18.234Z"}
{"duration":7,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:05:18.242Z"}
{"finalRate":15.9,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.24974190011874,"savingsPercent":1.8518518518518454,"savingsVsMin":0.29999999999999893,"service":"currency-exchange-api","timestamp":"2025-11-18T15:05:22.626Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:05:22.629Z"}
{"finalRate":15.86,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.010775297092553,"savingsPercent":2.098765432098765,"savingsVsMin":0.33999999999999986,"service":"currency-exchange-api","timestamp":"2025-11-18T15:05:36.080Z"}
{"level":"info","message":"Attempting to save transaction to Firebase","service":"currency-exchange-api","sessionId":"97214fc7-5476-48c5-9477-3fb752141af6","timestamp":"2025-11-18T15:05:36.083Z"}
{"expiresAt":"2025-11-18T15:10:36.081Z","level":"info","message":"Transaction session created successfully","service":"currency-exchange-api","sessionId":"97214fc7-5476-48c5-9477-3fb752141af6","status":"pending","timestamp":"2025-11-18T15:05:36.929Z"}
{"amount":1036.1,"exchangeRate":15.86,"from":"NGN","level":"info","message":"Transaction initiated","profitMargin":5.010775297092553,"rateSource":"Binance P2P (Primary)","sanitizedUser":{"customerName":"Yahiya Mouhoumoud","email":null,"paymentMethod":"bank","phone":null,"receiveMethod":"UPI"},"service":"currency-exchange-api","sessionId":"97214fc7-5476-48c5-9477-3fb752141af6","timestamp":"2025-11-18T15:05:36.931Z","to":"INR","usedCoinGeckoFallback":false}
{"duration":2532,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/convert","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:05:36.933Z"}
{"finalRate":15.94,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.487509172640395,"savingsPercent":1.604938271604937,"savingsVsMin":0.2599999999999998,"service":"currency-exchange-api","timestamp":"2025-11-18T15:05:42.560Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:05:42.564Z"}
{"finalRate":15.89,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.19011304039572,"savingsPercent":1.9135802469135723,"savingsVsMin":0.3099999999999987,"service":"currency-exchange-api","timestamp":"2025-11-18T15:06:02.820Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:06:02.822Z"}
{"finalRate":15.89,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.19011304039572,"savingsPercent":1.9135802469135723,"savingsVsMin":0.3099999999999987,"service":"currency-exchange-api","timestamp":"2025-11-18T15:06:44.719Z"}
{"duration":2,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T15:06:44.720Z"}
{"level":"info","message":"Cleaned up 1 expired sessions","service":"currency-exchange-api","timestamp":"2025-11-18T15:06:58.460Z"}
{"amount":1036.1,"level":"info","message":"Initializing Paystack payment","reference":"HP-97214fc7-5476-48c5-9477-3fb752141af6-1763478428377","service":"currency-exchange-api","sessionId":"97214fc7-5476-48c5-9477-3fb752141af6","timestamp":"2025-11-18T15:07:08.377Z"}
{"error":"Cannot read properties of undefined (reading 'initialize')","ip":"::1","level":"error","message":"Request error","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of undefined (reading 'initialize')\n    at /Users/mac/Desktop/Lovra copy/script.js:1552:49\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-11-18T15:07:08.379Z"}
{"duration":2138,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T15:07:08.381Z"}
{"finalRate":15.96,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.605945877937845,"savingsPercent":1.4814814814814719,"savingsVsMin":0.23999999999999844,"service":"currency-exchange-api","timestamp":"2025-11-18T15:07:28.205Z"}
{"duration":5,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:07:28.208Z"}
{"finalRate":15.9,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.24974190011874,"savingsPercent":1.8518518518518454,"savingsVsMin":0.29999999999999893,"service":"currency-exchange-api","timestamp":"2025-11-18T15:07:42.713Z"}
{"duration":12,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:07:42.725Z"}
{"finalRate":15.97,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.6650529875947395,"savingsPercent":1.4197530864197447,"savingsVsMin":0.22999999999999865,"service":"currency-exchange-api","timestamp":"2025-11-18T15:08:58.500Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:08:58.503Z"}
{"finalRate":15.9,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.24974190011874,"savingsPercent":1.8518518518518454,"savingsVsMin":0.29999999999999893,"service":"currency-exchange-api","timestamp":"2025-11-18T15:09:02.655Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:09:02.658Z"}
{"finalRate":15.92,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.368774887681402,"savingsPercent":1.7283950617283912,"savingsVsMin":0.27999999999999936,"service":"currency-exchange-api","timestamp":"2025-11-18T15:09:07.441Z"}
{"duration":6,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:09:07.446Z"}
{"finalRate":15.91,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.309295802129978,"savingsPercent":1.7901234567901183,"savingsVsMin":0.28999999999999915,"service":"currency-exchange-api","timestamp":"2025-11-18T15:09:27.422Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:09:27.425Z"}
{"finalRate":15.93,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.428179297670302,"savingsPercent":1.6666666666666643,"savingsVsMin":0.2699999999999996,"service":"currency-exchange-api","timestamp":"2025-11-18T15:09:44.438Z"}
{"level":"info","message":"Attempting to save transaction to Firebase","service":"currency-exchange-api","sessionId":"a4ffb88b-9eb8-4d71-81f6-bf9ec50ae588","timestamp":"2025-11-18T15:09:44.445Z"}
{"expiresAt":"2025-11-18T15:14:44.439Z","level":"info","message":"Transaction session created successfully","service":"currency-exchange-api","sessionId":"a4ffb88b-9eb8-4d71-81f6-bf9ec50ae588","status":"pending","timestamp":"2025-11-18T15:09:44.877Z"}
{"amount":100000,"exchangeRate":15.93,"from":"NGN","level":"info","message":"Transaction initiated","profitMargin":5.428179297670302,"rateSource":"Binance P2P (Primary)","sanitizedUser":{"customerName":"Test Yahiya","email":null,"paymentMethod":"bank","phone":null,"receiveMethod":"UPI"},"service":"currency-exchange-api","sessionId":"a4ffb88b-9eb8-4d71-81f6-bf9ec50ae588","timestamp":"2025-11-18T15:09:44.879Z","to":"INR","usedCoinGeckoFallback":false}
{"duration":1005,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/convert","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:09:44.880Z"}
{"finalRate":15.87,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.0706298810263295,"savingsPercent":2.0370370370370376,"savingsVsMin":0.33000000000000007,"service":"currency-exchange-api","timestamp":"2025-11-18T15:09:47.446Z"}
{"duration":26,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:09:47.451Z"}
{"amount":100000,"level":"info","message":"Initializing Paystack payment","reference":"HP-a4ffb88b-9eb8-4d71-81f6-bf9ec50ae588-1763478589661","service":"currency-exchange-api","sessionId":"a4ffb88b-9eb8-4d71-81f6-bf9ec50ae588","timestamp":"2025-11-18T15:09:49.661Z"}
{"error":"Cannot read properties of undefined (reading 'initialize')","ip":"::1","level":"error","message":"Request error","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of undefined (reading 'initialize')\n    at /Users/mac/Desktop/Lovra copy/script.js:1552:49\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-11-18T15:09:49.663Z"}
{"duration":706,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T15:09:49.665Z"}
{"finalRate":15.85,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.950845186869899,"savingsPercent":2.1604938271604914,"savingsVsMin":0.34999999999999964,"service":"currency-exchange-api","timestamp":"2025-11-18T15:10:13.339Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:10:13.342Z"}
{"finalRate":15.96,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.605945877937845,"savingsPercent":1.4814814814814719,"savingsVsMin":0.23999999999999844,"service":"currency-exchange-api","timestamp":"2025-11-18T15:10:27.422Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:10:27.426Z"}
{"finalRate":15.86,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.010775297092553,"savingsPercent":2.098765432098765,"savingsVsMin":0.33999999999999986,"service":"currency-exchange-api","timestamp":"2025-11-18T15:10:47.422Z"}
{"duration":5,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:10:47.427Z"}
{"amount":100000,"level":"info","message":"Initializing Paystack payment","reference":"HP-a4ffb88b-9eb8-4d71-81f6-bf9ec50ae588-1763478673936","service":"currency-exchange-api","sessionId":"a4ffb88b-9eb8-4d71-81f6-bf9ec50ae588","timestamp":"2025-11-18T15:11:13.936Z"}
{"error":"Cannot read properties of undefined (reading 'initialize')","ip":"::1","level":"error","message":"Request error","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of undefined (reading 'initialize')\n    at /Users/mac/Desktop/Lovra copy/script.js:1552:49\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-11-18T15:11:13.938Z"}
{"duration":755,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T15:11:13.940Z"}
{"databaseURL":"https://payment-method-tech-crypto-default-rtdb.europe-west1.firebasedatabase.app","level":"info","message":"Firebase initialized successfully","projectId":"payment-method-tech-crypto","service":"currency-exchange-api","timestamp":"2025-11-18T15:12:04.647Z"}
{"cacheEnabled":true,"cacheTTL":1800,"encryptionEnabled":true,"environment":"production","fallbackNgnRate":1650,"firebaseConnected":true,"level":"info","maxRetries":5,"message":"ðŸš€ HorizonPay API started on port 3000","retryDelay":2000,"service":"currency-exchange-api","sessionTTL":"300s","timestamp":"2025-11-18T15:12:04.667Z","trustProxy":true,"version":"2.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T15:12:05.882Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T15:12:06.526Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T15:12:06.692Z"}
{"level":"info","message":"Market data cached","service":"currency-exchange-api","timestamp":"2025-11-18T15:12:06.694Z","ttl":1800,"usedFallback":false}
{"finalRate":15.96,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.646544772070799,"savingsPercent":1.4814814814814719,"savingsVsMin":0.23999999999999844,"service":"currency-exchange-api","timestamp":"2025-11-18T15:12:06.696Z"}
{"duration":829,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:12:06.710Z"}
{"finalRate":15.95,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.587389000768012,"savingsPercent":1.54320987654321,"savingsVsMin":0.25,"service":"currency-exchange-api","timestamp":"2025-11-18T15:12:07.422Z"}
{"duration":9,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:12:07.431Z"}
{"error":"Expected property name or '}' in JSON at position 2 (line 2 column 1)","ip":"::1","level":"error","message":"Request error","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","stack":"SyntaxError: Expected property name or '}' in JSON at position 2 (line 2 column 1)\n    at JSON.parse (<anonymous>)\n    at parse (/Users/mac/Desktop/Lovra copy/node_modules/body-parser/lib/types/json.js:92:19)\n    at /Users/mac/Desktop/Lovra copy/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/mac/Desktop/Lovra copy/node_modules/raw-body/index.js:238:16)\n    at done (/Users/mac/Desktop/Lovra copy/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/mac/Desktop/Lovra copy/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:519:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)","timestamp":"2025-11-18T15:12:11.898Z"}
{"finalRate":15.87,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.111459014634518,"savingsPercent":2.0370370370370376,"savingsVsMin":0.33000000000000007,"service":"currency-exchange-api","timestamp":"2025-11-18T15:12:27.710Z"}
{"duration":7,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:12:27.716Z"}
{"amount":100000,"level":"info","message":"Initializing Paystack payment","reference":"HP-a4ffb88b-9eb8-4d71-81f6-bf9ec50ae588-1763478775235","service":"currency-exchange-api","sessionId":"a4ffb88b-9eb8-4d71-81f6-bf9ec50ae588","timestamp":"2025-11-18T15:12:55.236Z"}
{"error":"Cannot read properties of undefined (reading 'initialize')","ip":"::1","level":"error","message":"Request error","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of undefined (reading 'initialize')\n    at /Users/mac/Desktop/Lovra copy/script.js:1552:49\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-11-18T15:12:55.239Z"}
{"duration":5808,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T15:12:55.249Z"}
{"finalRate":15.86,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.051630174164553,"savingsPercent":2.098765432098765,"savingsVsMin":0.33999999999999986,"service":"currency-exchange-api","timestamp":"2025-11-18T15:13:00.544Z"}
{"duration":14,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:13:00.557Z"}
{"amount":100000,"level":"info","message":"Initializing Paystack payment","reference":"HP-a4ffb88b-9eb8-4d71-81f6-bf9ec50ae588-1763478784037","service":"currency-exchange-api","sessionId":"a4ffb88b-9eb8-4d71-81f6-bf9ec50ae588","timestamp":"2025-11-18T15:13:04.037Z"}
{"error":"Cannot read properties of undefined (reading 'initialize')","ip":"::1","level":"error","message":"Request error","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of undefined (reading 'initialize')\n    at /Users/mac/Desktop/Lovra copy/script.js:1552:49\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-11-18T15:13:04.039Z"}
{"duration":608,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T15:13:04.048Z"}
{"finalRate":15.88,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.171212503920021,"savingsPercent":1.9753086419752997,"savingsVsMin":0.3199999999999985,"service":"currency-exchange-api","timestamp":"2025-11-18T15:13:07.424Z"}
{"duration":13,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:13:07.437Z"}
{"amount":100000,"level":"info","message":"Initializing Paystack payment","reference":"HP-a4ffb88b-9eb8-4d71-81f6-bf9ec50ae588-1763478813311","service":"currency-exchange-api","sessionId":"a4ffb88b-9eb8-4d71-81f6-bf9ec50ae588","timestamp":"2025-11-18T15:13:33.311Z"}
{"error":"Cannot read properties of undefined (reading 'initialize')","ip":"::1","level":"error","message":"Request error","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of undefined (reading 'initialize')\n    at /Users/mac/Desktop/Lovra copy/script.js:1552:49\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-11-18T15:13:33.312Z"}
{"duration":619,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T15:13:33.316Z"}
{"finalRate":15.92,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.409475789086046,"savingsPercent":1.7283950617283912,"savingsVsMin":0.27999999999999936,"service":"currency-exchange-api","timestamp":"2025-11-18T15:14:14.783Z"}
{"duration":5,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:14:14.786Z"}
{"amount":100000,"level":"info","message":"Initializing Paystack payment","reference":"HP-a4ffb88b-9eb8-4d71-81f6-bf9ec50ae588-1763478863781","service":"currency-exchange-api","sessionId":"a4ffb88b-9eb8-4d71-81f6-bf9ec50ae588","timestamp":"2025-11-18T15:14:23.781Z"}
{"error":"Cannot read properties of undefined (reading 'initialize')","ip":"::1","level":"error","message":"Request error","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of undefined (reading 'initialize')\n    at /Users/mac/Desktop/Lovra copy/script.js:1552:49\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-11-18T15:14:23.785Z"}
{"duration":567,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T15:14:23.838Z"}
{"finalRate":15.94,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.528159006414668,"savingsPercent":1.604938271604937,"savingsVsMin":0.2599999999999998,"service":"currency-exchange-api","timestamp":"2025-11-18T15:14:27.427Z"}
{"duration":7,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:14:27.433Z"}
{"finalRate":15.91,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.350022285496536,"savingsPercent":1.7901234567901183,"savingsVsMin":0.28999999999999915,"service":"currency-exchange-api","timestamp":"2025-11-18T15:14:47.699Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:14:47.702Z"}
{"databaseURL":"https://payment-method-tech-crypto-default-rtdb.europe-west1.firebasedatabase.app","level":"info","message":"Firebase initialized successfully","projectId":"payment-method-tech-crypto","service":"currency-exchange-api","timestamp":"2025-11-18T15:15:10.033Z"}
{"cacheEnabled":true,"cacheTTL":1800,"encryptionEnabled":true,"environment":"production","fallbackNgnRate":1650,"firebaseConnected":true,"level":"info","maxRetries":5,"message":"ðŸš€ HorizonPay API started on port 3000","retryDelay":2000,"service":"currency-exchange-api","sessionTTL":"300s","timestamp":"2025-11-18T15:15:10.066Z","trustProxy":true,"version":"2.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T15:15:20.290Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T15:15:21.134Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T15:15:21.753Z"}
{"level":"info","message":"Market data cached","service":"currency-exchange-api","timestamp":"2025-11-18T15:15:21.756Z","ttl":1800,"usedFallback":false}
{"finalRate":15.9,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.278229104333594,"savingsPercent":1.8518518518518454,"savingsVsMin":0.29999999999999893,"service":"currency-exchange-api","timestamp":"2025-11-18T15:15:21.758Z"}
{"duration":1484,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:15:21.773Z"}
{"finalRate":15.9,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.278229104333594,"savingsPercent":1.8518518518518454,"savingsVsMin":0.29999999999999893,"service":"currency-exchange-api","timestamp":"2025-11-18T15:15:40.218Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T15:15:40.230Z"}
{"finalRate":15.88,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.158932163658954,"savingsPercent":1.9753086419752997,"savingsVsMin":0.3199999999999985,"service":"currency-exchange-api","timestamp":"2025-11-18T15:15:45.461Z"}
{"level":"info","message":"Attempting to save transaction to Firebase","service":"currency-exchange-api","sessionId":"8bac2db0-dec0-4701-9b36-ec075fe8eaf4","timestamp":"2025-11-18T15:15:45.472Z"}
{"expiresAt":"2025-11-18T15:20:45.463Z","level":"info","message":"Transaction session created successfully","service":"currency-exchange-api","sessionId":"8bac2db0-dec0-4701-9b36-ec075fe8eaf4","status":"pending","timestamp":"2025-11-18T15:15:46.016Z"}
{"amount":100000,"exchangeRate":15.88,"from":"NGN","level":"info","message":"Transaction initiated","profitMargin":5.158932163658954,"rateSource":"Binance P2P (Primary)","sanitizedUser":{"customerName":"Yahiya","email":null,"paymentMethod":"bank","phone":null,"receiveMethod":"UPI"},"service":"currency-exchange-api","sessionId":"8bac2db0-dec0-4701-9b36-ec075fe8eaf4","timestamp":"2025-11-18T15:15:46.018Z","to":"INR","usedCoinGeckoFallback":false}
{"duration":4400,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/convert","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:15:46.154Z"}
{"amount":100000,"level":"info","message":"Initializing Paystack payment","reference":"HP-8bac2db0-dec0-4701-9b36-ec075fe8eaf4-1763478952447","service":"currency-exchange-api","sessionId":"8bac2db0-dec0-4701-9b36-ec075fe8eaf4","timestamp":"2025-11-18T15:15:52.447Z"}
{"error":"Cannot read properties of undefined (reading 'initialize')","ip":"::1","level":"error","message":"Request error","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of undefined (reading 'initialize')\n    at /Users/mac/Desktop/Lovra copy/script.js:1552:49\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-11-18T15:15:52.450Z"}
{"duration":1607,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T15:15:52.453Z"}
{"finalRate":15.88,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.158932163658954,"savingsPercent":1.9753086419752997,"savingsVsMin":0.3199999999999985,"service":"currency-exchange-api","timestamp":"2025-11-18T15:16:00.699Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:16:00.703Z"}
{"finalRate":15.94,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.515924890771898,"savingsPercent":1.604938271604937,"savingsVsMin":0.2599999999999998,"service":"currency-exchange-api","timestamp":"2025-11-18T15:16:20.700Z"}
{"duration":8,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:16:20.707Z"}
{"finalRate":15.87,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.099170936288849,"savingsPercent":2.0370370370370376,"savingsVsMin":0.33000000000000007,"service":"currency-exchange-api","timestamp":"2025-11-18T15:16:40.714Z"}
{"duration":5,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:16:40.720Z"}
{"databaseURL":"https://payment-method-tech-crypto-default-rtdb.europe-west1.firebasedatabase.app","level":"info","message":"Firebase initialized successfully","projectId":"payment-method-tech-crypto","service":"currency-exchange-api","timestamp":"2025-11-18T15:17:27.067Z"}
{"cacheEnabled":true,"cacheTTL":1800,"encryptionEnabled":true,"environment":"production","fallbackNgnRate":1650,"firebaseConnected":true,"level":"info","maxRetries":5,"message":"ðŸš€ HorizonPay API started on port 3000","retryDelay":2000,"service":"currency-exchange-api","sessionTTL":"300s","timestamp":"2025-11-18T15:17:27.091Z","trustProxy":true,"version":"2.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T15:17:34.712Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T15:17:35.520Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T15:17:35.808Z"}
{"level":"info","message":"Market data cached","service":"currency-exchange-api","timestamp":"2025-11-18T15:17:35.811Z","ttl":1800,"usedFallback":false}
{"finalRate":15.88,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.156953687246843,"savingsPercent":1.9753086419752997,"savingsVsMin":0.3199999999999985,"service":"currency-exchange-api","timestamp":"2025-11-18T15:17:35.812Z"}
{"duration":1109,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:17:35.821Z"}
{"finalRate":15.9,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.276253116571058,"savingsPercent":1.8518518518518454,"savingsVsMin":0.29999999999999893,"service":"currency-exchange-api","timestamp":"2025-11-18T15:17:49.248Z"}
{"duration":32,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:17:49.275Z"}
{"databaseURL":"https://payment-method-tech-crypto-default-rtdb.europe-west1.firebasedatabase.app","level":"info","message":"Firebase initialized successfully","projectId":"payment-method-tech-crypto","service":"currency-exchange-api","timestamp":"2025-11-18T15:18:02.262Z"}
{"cacheEnabled":true,"cacheTTL":1800,"encryptionEnabled":true,"environment":"production","fallbackNgnRate":1650,"firebaseConnected":true,"level":"info","maxRetries":5,"message":"ðŸš€ HorizonPay API started on port 3000","retryDelay":2000,"service":"currency-exchange-api","sessionTTL":"300s","timestamp":"2025-11-18T15:18:02.288Z","trustProxy":true,"version":"2.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T15:18:20.227Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T15:18:20.359Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T15:18:22.472Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T15:18:22.711Z"}
{"level":"info","message":"Market data cached","service":"currency-exchange-api","timestamp":"2025-11-18T15:18:22.714Z","ttl":1800,"usedFallback":false}
{"finalRate":15.88,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.156953687246843,"savingsPercent":1.9753086419752997,"savingsVsMin":0.3199999999999985,"service":"currency-exchange-api","timestamp":"2025-11-18T15:18:22.715Z"}
{"duration":2369,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:18:22.726Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T15:18:22.729Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T15:18:22.731Z"}
{"level":"info","message":"Market data cached","service":"currency-exchange-api","timestamp":"2025-11-18T15:18:22.732Z","ttl":1800,"usedFallback":false}
{"finalRate":15.86,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.037353376638067,"savingsPercent":2.098765432098765,"savingsVsMin":0.33999999999999986,"service":"currency-exchange-api","timestamp":"2025-11-18T15:18:22.733Z"}
{"finalRate":15.88,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.156953687246843,"savingsPercent":1.9753086419752997,"savingsVsMin":0.3199999999999985,"service":"currency-exchange-api","timestamp":"2025-11-18T15:18:40.409Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:18:40.412Z"}
{"finalRate":15.96,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.6323574281629,"savingsPercent":1.4814814814814719,"savingsVsMin":0.23999999999999844,"service":"currency-exchange-api","timestamp":"2025-11-18T15:18:55.916Z"}
{"level":"info","message":"Attempting to save transaction to Firebase","service":"currency-exchange-api","sessionId":"8e26aa3b-8c16-4484-8491-e9ed8fe05364","timestamp":"2025-11-18T15:18:55.928Z"}
{"expiresAt":"2025-11-18T15:23:55.918Z","level":"info","message":"Transaction session created successfully","service":"currency-exchange-api","sessionId":"8e26aa3b-8c16-4484-8491-e9ed8fe05364","status":"pending","timestamp":"2025-11-18T15:18:56.831Z"}
{"amount":100000,"exchangeRate":15.96,"from":"NGN","level":"info","message":"Transaction initiated","profitMargin":5.6323574281629,"rateSource":"Binance P2P (Primary)","sanitizedUser":{"customerName":"Yahiya","email":null,"paymentMethod":"bank","phone":null,"receiveMethod":"UPI"},"service":"currency-exchange-api","sessionId":"8e26aa3b-8c16-4484-8491-e9ed8fe05364","timestamp":"2025-11-18T15:18:56.833Z","to":"INR","usedCoinGeckoFallback":false}
{"duration":4013,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/convert","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:18:56.866Z"}
{"finalRate":15.95,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.573192761973651,"savingsPercent":1.54320987654321,"savingsVsMin":0.25,"service":"currency-exchange-api","timestamp":"2025-11-18T15:19:00.359Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:19:00.362Z"}
{"amount":100000,"level":"info","message":"Initializing Paystack payment","reference":"HP-8e26aa3b-8c16-4484-8491-e9ed8fe05364-1763479142854","service":"currency-exchange-api","sessionId":"8e26aa3b-8c16-4484-8491-e9ed8fe05364","timestamp":"2025-11-18T15:19:02.854Z"}
{"error":"Cannot read properties of undefined (reading 'initialize')","ip":"::1","level":"error","message":"Request error","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of undefined (reading 'initialize')\n    at /Users/mac/Desktop/Lovra copy/script.js:1566:41\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-11-18T15:19:02.856Z"}
{"duration":714,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T15:19:02.862Z"}
{"finalRate":15.92,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.395252798585413,"savingsPercent":1.7283950617283912,"savingsVsMin":0.27999999999999936,"service":"currency-exchange-api","timestamp":"2025-11-18T15:19:20.705Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:19:20.709Z"}
{"finalRate":15.94,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.513953861573384,"savingsPercent":1.604938271604937,"savingsVsMin":0.2599999999999998,"service":"currency-exchange-api","timestamp":"2025-11-18T15:19:40.716Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:19:40.719Z"}
{"finalRate":15.89,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.216640941062294,"savingsPercent":1.9135802469135723,"savingsVsMin":0.3099999999999987,"service":"currency-exchange-api","timestamp":"2025-11-18T15:20:00.706Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:20:00.709Z"}
{"finalRate":15.91,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.335790355341283,"savingsPercent":1.7901234567901183,"savingsVsMin":0.28999999999999915,"service":"currency-exchange-api","timestamp":"2025-11-18T15:20:34.702Z"}
{"duration":8,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:20:34.710Z"}
{"finalRate":15.95,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.573192761973651,"savingsPercent":1.54320987654321,"savingsVsMin":0.25,"service":"currency-exchange-api","timestamp":"2025-11-18T15:21:34.762Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:21:34.765Z"}
{"finalRate":15.86,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.037353376638067,"savingsPercent":2.098765432098765,"savingsVsMin":0.33999999999999986,"service":"currency-exchange-api","timestamp":"2025-11-18T15:22:37.758Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:22:37.761Z"}
{"finalRate":15.92,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.395252798585413,"savingsPercent":1.7283950617283912,"savingsVsMin":0.27999999999999936,"service":"currency-exchange-api","timestamp":"2025-11-18T15:23:34.762Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:23:34.765Z"}
{"finalRate":15.87,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.09719121319973,"savingsPercent":2.0370370370370376,"savingsVsMin":0.33000000000000007,"service":"currency-exchange-api","timestamp":"2025-11-18T15:24:34.727Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:24:34.729Z"}
{"finalRate":15.91,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.335790355341283,"savingsPercent":1.7901234567901183,"savingsVsMin":0.28999999999999915,"service":"currency-exchange-api","timestamp":"2025-11-18T15:25:34.749Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:25:34.752Z"}
{"finalRate":15.96,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.6323574281629,"savingsPercent":1.4814814814814719,"savingsVsMin":0.23999999999999844,"service":"currency-exchange-api","timestamp":"2025-11-18T15:26:34.702Z"}
{"duration":2,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:26:34.704Z"}
{"finalRate":15.93,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.454640587161316,"savingsPercent":1.6666666666666643,"savingsVsMin":0.2699999999999996,"service":"currency-exchange-api","timestamp":"2025-11-18T15:27:34.701Z"}
{"duration":2,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:27:34.703Z"}
{"level":"info","message":"Cleaned up 4 expired sessions","service":"currency-exchange-api","timestamp":"2025-11-18T15:28:03.449Z"}
{"finalRate":15.97,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.691447999591725,"savingsPercent":1.4197530864197447,"savingsVsMin":0.22999999999999865,"service":"currency-exchange-api","timestamp":"2025-11-18T15:28:34.797Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:28:34.800Z"}
{"finalRate":15.9,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.276253116571058,"savingsPercent":1.8518518518518454,"savingsVsMin":0.29999999999999893,"service":"currency-exchange-api","timestamp":"2025-11-18T15:28:53.129Z"}
{"duration":2,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:28:53.131Z"}
{"finalRate":15.96,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.6323574281629,"savingsPercent":1.4814814814814719,"savingsVsMin":0.23999999999999844,"service":"currency-exchange-api","timestamp":"2025-11-18T15:29:00.701Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:29:00.703Z"}
{"finalRate":15.92,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.395252798585413,"savingsPercent":1.7283950617283912,"savingsVsMin":0.27999999999999936,"service":"currency-exchange-api","timestamp":"2025-11-18T15:29:20.700Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:29:20.703Z"}
{"finalRate":15.89,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.216640941062294,"savingsPercent":1.9135802469135723,"savingsVsMin":0.3099999999999987,"service":"currency-exchange-api","timestamp":"2025-11-18T15:29:40.723Z"}
{"duration":10,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:29:40.732Z"}
{"finalRate":15.94,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.513953861573384,"savingsPercent":1.604938271604937,"savingsVsMin":0.2599999999999998,"service":"currency-exchange-api","timestamp":"2025-11-18T15:30:20.001Z"}
{"duration":10,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:30:20.003Z"}
{"finalRate":15.94,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.513953861573384,"savingsPercent":1.604938271604937,"savingsVsMin":0.2599999999999998,"service":"currency-exchange-api","timestamp":"2025-11-18T15:30:40.757Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T15:30:40.760Z"}
{"finalRate":15.96,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.6323574281629,"savingsPercent":1.4814814814814719,"savingsVsMin":0.23999999999999844,"service":"currency-exchange-api","timestamp":"2025-11-18T15:31:00.700Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:31:00.703Z"}
{"finalRate":15.93,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.454640587161316,"savingsPercent":1.6666666666666643,"savingsVsMin":0.2699999999999996,"service":"currency-exchange-api","timestamp":"2025-11-18T15:31:22.570Z"}
{"duration":2,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T15:31:22.573Z"}
{"databaseURL":"https://payment-method-tech-crypto-default-rtdb.europe-west1.firebasedatabase.app","level":"info","message":"Firebase initialized successfully","projectId":"payment-method-tech-crypto","service":"currency-exchange-api","timestamp":"2025-11-18T16:14:28.156Z"}
{"keyType":"LIVE","level":"info","message":"âœ… Paystack API helper initialized","service":"currency-exchange-api","timestamp":"2025-11-18T16:14:28.161Z"}
{"cacheEnabled":true,"cacheTTL":1800,"encryptionEnabled":true,"environment":"production","fallbackNgnRate":1650,"firebaseConnected":true,"level":"info","maxRetries":5,"message":"ðŸš€ HorizonPay API started on port 3000","retryDelay":2000,"service":"currency-exchange-api","sessionTTL":"300s","timestamp":"2025-11-18T16:14:28.234Z","trustProxy":true,"version":"2.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:14:41.472Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:14:47.090Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:14:51.610Z"}
{"level":"info","message":"Market data cached","service":"currency-exchange-api","timestamp":"2025-11-18T16:14:51.614Z","ttl":1800,"usedFallback":false}
{"finalRate":15.86,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.344633954548001,"savingsPercent":2.098765432098765,"savingsVsMin":0.33999999999999986,"service":"currency-exchange-api","timestamp":"2025-11-18T16:14:51.615Z"}
{"duration":10150,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T16:14:51.621Z"}
{"finalRate":15.88,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.4651067077538675,"savingsPercent":1.9753086419752997,"savingsVsMin":0.3199999999999985,"service":"currency-exchange-api","timestamp":"2025-11-18T16:14:57.951Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T16:14:57.955Z"}
{"finalRate":15.86,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.344633954548001,"savingsPercent":2.098765432098765,"savingsVsMin":0.33999999999999986,"service":"currency-exchange-api","timestamp":"2025-11-18T16:15:25.231Z"}
{"duration":2,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T16:15:25.233Z"}
{"finalRate":15.96,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.943978353329037,"savingsPercent":1.4814814814814719,"savingsVsMin":0.23999999999999844,"service":"currency-exchange-api","timestamp":"2025-11-18T16:15:41.506Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T16:15:41.508Z"}
{"finalRate":15.92,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.70514412808614,"savingsPercent":1.7283950617283912,"savingsVsMin":0.27999999999999936,"service":"currency-exchange-api","timestamp":"2025-11-18T16:15:57.949Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T16:15:57.953Z"}
{"finalRate":15.85,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.284283565875793,"savingsPercent":2.1604938271604914,"savingsVsMin":0.34999999999999964,"service":"currency-exchange-api","timestamp":"2025-11-18T16:16:15.210Z"}
{"level":"info","message":"Attempting to save transaction to Firebase","service":"currency-exchange-api","sessionId":"c8d394f8-b166-40fc-903a-25ad296c4cbd","timestamp":"2025-11-18T16:16:15.261Z"}
{"expiresAt":"2025-11-18T16:21:15.212Z","level":"info","message":"Transaction session created successfully","service":"currency-exchange-api","sessionId":"c8d394f8-b166-40fc-903a-25ad296c4cbd","status":"pending","timestamp":"2025-11-18T16:16:15.696Z"}
{"amount":100000,"exchangeRate":15.85,"from":"NGN","level":"info","message":"Transaction initiated","profitMargin":4.284283565875793,"rateSource":"Binance P2P (Primary)","sanitizedUser":{"customerName":"Joe Karibah","email":null,"paymentMethod":"bank","phone":null,"receiveMethod":"UPI"},"service":"currency-exchange-api","sessionId":"c8d394f8-b166-40fc-903a-25ad296c4cbd","timestamp":"2025-11-18T16:16:15.698Z","to":"INR","usedCoinGeckoFallback":false}
{"duration":5385,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/convert","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T16:16:16.194Z"}
{"finalRate":15.96,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.943978353329037,"savingsPercent":1.4814814814814719,"savingsVsMin":0.23999999999999844,"service":"currency-exchange-api","timestamp":"2025-11-18T16:16:17.948Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T16:16:17.952Z"}
{"amount":100000,"level":"info","message":"Initializing Paystack payment","reference":"HP-c8d394f8-b166-40fc-903a-25ad296c4cbd-1763482592089","service":"currency-exchange-api","sessionId":"c8d394f8-b166-40fc-903a-25ad296c4cbd","timestamp":"2025-11-18T16:16:32.089Z"}
{"error":"paystack is not defined","ip":"::1","level":"error","message":"Request error","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","stack":"ReferenceError: paystack is not defined\n    at /Users/mac/Desktop/Lovra copy/script.js:1628:1\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-11-18T16:16:32.092Z"}
{"duration":1337,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T16:16:32.098Z"}
{"finalRate":15.89,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.5252293592908375,"savingsPercent":1.9135802469135723,"savingsVsMin":0.3099999999999987,"service":"currency-exchange-api","timestamp":"2025-11-18T16:16:37.948Z"}
{"duration":6,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T16:16:37.953Z"}
{"finalRate":15.94,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.824711073973106,"savingsPercent":1.604938271604937,"savingsVsMin":0.2599999999999998,"service":"currency-exchange-api","timestamp":"2025-11-18T16:17:01.631Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T16:17:01.634Z"}
{"finalRate":15.98,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.06294709130985,"savingsPercent":1.3580246913580178,"savingsVsMin":0.21999999999999886,"service":"currency-exchange-api","timestamp":"2025-11-18T16:21:11.120Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T16:21:11.123Z"}
{"finalRate":15.9,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.5852763848510305,"savingsPercent":1.8518518518518454,"savingsVsMin":0.29999999999999893,"service":"currency-exchange-api","timestamp":"2025-11-18T16:21:17.949Z"}
{"duration":8,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T16:21:17.957Z"}
{"level":"warn","message":"Attempted to access expired session","service":"currency-exchange-api","sessionId":"c8d394f8-b166-40fc-903a-25ad296c4cbd","timestamp":"2025-11-18T16:21:20.556Z"}
{"error":"Session expired","level":"error","message":"Failed to get transaction session","service":"currency-exchange-api","sessionId":"c8d394f8-b166-40fc-903a-25ad296c4cbd","timestamp":"2025-11-18T16:21:20.558Z"}
{"error":"Session expired","ip":"::1","level":"error","message":"Request error","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","stack":"APIError: Session expired\n    at getTransactionSession (/Users/mac/Desktop/Lovra copy/script.js:1057:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1588:21","timestamp":"2025-11-18T16:21:20.621Z"}
{"duration":527,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","statusCode":410,"timestamp":"2025-11-18T16:21:20.624Z"}
{"finalRate":15.9,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.5852763848510305,"savingsPercent":1.8518518518518454,"savingsVsMin":0.29999999999999893,"service":"currency-exchange-api","timestamp":"2025-11-18T16:21:34.307Z"}
{"level":"info","message":"Attempting to save transaction to Firebase","service":"currency-exchange-api","sessionId":"8522148e-46df-4bd6-82f3-b3cfa44b28df","timestamp":"2025-11-18T16:21:34.313Z"}
{"expiresAt":"2025-11-18T16:26:34.310Z","level":"info","message":"Transaction session created successfully","service":"currency-exchange-api","sessionId":"8522148e-46df-4bd6-82f3-b3cfa44b28df","status":"pending","timestamp":"2025-11-18T16:21:35.910Z"}
{"amount":100000,"exchangeRate":15.9,"from":"NGN","level":"info","message":"Transaction initiated","profitMargin":4.5852763848510305,"rateSource":"Binance P2P (Primary)","sanitizedUser":{"customerName":"Joe Karibah","email":null,"paymentMethod":"bank","phone":null,"receiveMethod":"UPI"},"service":"currency-exchange-api","sessionId":"8522148e-46df-4bd6-82f3-b3cfa44b28df","timestamp":"2025-11-18T16:21:35.911Z","to":"INR","usedCoinGeckoFallback":false}
{"duration":2251,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/convert","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T16:21:35.916Z"}
{"finalRate":15.95,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.884382101512933,"savingsPercent":1.54320987654321,"savingsVsMin":0.25,"service":"currency-exchange-api","timestamp":"2025-11-18T16:21:37.949Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T16:21:37.951Z"}
{"amount":100000,"level":"info","message":"Initializing Paystack payment","reference":"HP-8522148e-46df-4bd6-82f3-b3cfa44b28df-1763482903396","service":"currency-exchange-api","sessionId":"8522148e-46df-4bd6-82f3-b3cfa44b28df","timestamp":"2025-11-18T16:21:43.396Z"}
{"error":"paystack is not defined","ip":"::1","level":"error","message":"Request error","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","stack":"ReferenceError: paystack is not defined\n    at /Users/mac/Desktop/Lovra copy/script.js:1628:1\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-11-18T16:21:43.397Z"}
{"duration":566,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T16:21:43.400Z"}
{"level":"info","message":"Cleaned up 1 expired sessions","service":"currency-exchange-api","timestamp":"2025-11-18T16:24:30.018Z"}
{"databaseURL":"https://payment-method-tech-crypto-default-rtdb.europe-west1.firebasedatabase.app","level":"info","message":"Firebase initialized successfully","projectId":"payment-method-tech-crypto","service":"currency-exchange-api","timestamp":"2025-11-18T16:29:58.421Z"}
{"keyType":"LIVE","level":"info","message":"âœ… Paystack API helper initialized","service":"currency-exchange-api","timestamp":"2025-11-18T16:29:58.427Z"}
{"cacheEnabled":true,"cacheTTL":1800,"encryptionEnabled":true,"environment":"production","fallbackNgnRate":1650,"firebaseConnected":true,"level":"info","maxRetries":5,"message":"ðŸš€ HorizonPay API started on port 3000","retryDelay":2000,"service":"currency-exchange-api","sessionTTL":"300s","timestamp":"2025-11-18T16:29:58.447Z","trustProxy":true,"version":"2.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:30:16.198Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:30:16.838Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:30:16.956Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"POST","path":"/api/convert","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1473:24","timestamp":"2025-11-18T16:30:16.959Z"}
{"duration":5211,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/convert","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T16:30:16.964Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:30:17.950Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:30:18.204Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:30:18.246Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T16:30:18.248Z"}
{"duration":302,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T16:30:18.252Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:30:37.951Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:30:38.645Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:30:38.658Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T16:30:38.659Z"}
{"duration":714,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T16:30:38.666Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:30:44.256Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:30:44.669Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:30:44.743Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T16:30:44.744Z"}
{"duration":494,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T16:30:44.750Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:31:07.606Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:31:09.256Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:31:10.085Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T16:31:10.086Z"}
{"duration":2484,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T16:31:10.089Z"}
{"databaseURL":"https://payment-method-tech-crypto-default-rtdb.europe-west1.firebasedatabase.app","level":"info","message":"Firebase initialized successfully","projectId":"payment-method-tech-crypto","service":"currency-exchange-api","timestamp":"2025-11-18T16:31:39.183Z"}
{"keyType":"LIVE","level":"info","message":"âœ… Paystack API helper initialized","service":"currency-exchange-api","timestamp":"2025-11-18T16:31:39.189Z"}
{"cacheEnabled":true,"cacheTTL":1800,"encryptionEnabled":true,"environment":"production","fallbackNgnRate":1650,"firebaseConnected":true,"level":"info","maxRetries":5,"message":"ðŸš€ HorizonPay API started on port 3000","retryDelay":2000,"service":"currency-exchange-api","sessionTTL":"300s","timestamp":"2025-11-18T16:31:39.208Z","trustProxy":true,"version":"2.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:31:44.221Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:31:44.854Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:31:44.958Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T16:31:44.960Z"}
{"duration":753,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T16:31:44.973Z"}
{"databaseURL":"https://payment-method-tech-crypto-default-rtdb.europe-west1.firebasedatabase.app","level":"info","message":"Firebase initialized successfully","projectId":"payment-method-tech-crypto","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:24.510Z"}
{"keyType":"LIVE","level":"info","message":"âœ… Paystack API helper initialized","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:24.517Z"}
{"cacheEnabled":true,"cacheTTL":1800,"encryptionEnabled":true,"environment":"production","fallbackNgnRate":1650,"firebaseConnected":true,"level":"info","maxRetries":5,"message":"ðŸš€ HorizonPay API started on port 3000","retryDelay":2000,"service":"currency-exchange-api","sessionTTL":"300s","timestamp":"2025-11-18T16:32:24.538Z","trustProxy":true,"version":"2.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:43.419Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:43.916Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:44.034Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T16:32:44.036Z"}
{"duration":626,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T16:32:44.044Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:45.122Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:45.684Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:46.001Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T16:32:46.002Z"}
{"duration":883,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T16:32:46.005Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:48.748Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:49.052Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:49.113Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T16:32:49.115Z"}
{"duration":373,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T16:32:49.121Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:49.860Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:50.487Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:50.492Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T16:32:50.493Z"}
{"duration":635,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T16:32:50.496Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:52.357Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:52.581Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:52.625Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T16:32:52.627Z"}
{"duration":273,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T16:32:52.630Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:53.304Z"}
{"error":"HTTP 429","level":"error","message":"CoinGecko fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:53.395Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:53.551Z"}
{"fallbackRate":1650,"level":"warn","message":"CoinGecko NGN unavailable, using fallback rate","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:53.561Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:53.562Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T16:32:53.563Z"}
{"duration":263,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T16:32:53.567Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:54.070Z"}
{"error":"HTTP 429","level":"error","message":"CoinGecko fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:54.149Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:54.321Z"}
{"fallbackRate":1650,"level":"warn","message":"CoinGecko NGN unavailable, using fallback rate","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:54.736Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:54.738Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T16:32:54.740Z"}
{"duration":673,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T16:32:54.743Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:56.384Z"}
{"error":"HTTP 429","level":"error","message":"CoinGecko fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:56.497Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:56.590Z"}
{"fallbackRate":1650,"level":"warn","message":"CoinGecko NGN unavailable, using fallback rate","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:56.627Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:56.628Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T16:32:56.629Z"}
{"duration":247,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T16:32:56.631Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:57.095Z"}
{"error":"HTTP 429","level":"error","message":"CoinGecko fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:57.176Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:57.312Z"}
{"fallbackRate":1650,"level":"warn","message":"CoinGecko NGN unavailable, using fallback rate","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:57.334Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:57.335Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T16:32:57.336Z"}
{"duration":246,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T16:32:57.341Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:57.947Z"}
{"error":"HTTP 429","level":"error","message":"CoinGecko fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:58.043Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:58.195Z"}
{"fallbackRate":1650,"level":"warn","message":"CoinGecko NGN unavailable, using fallback rate","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:58.236Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:32:58.237Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T16:32:58.238Z"}
{"duration":296,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T16:32:58.243Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:33:03.109Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:33:03.351Z"}
{"error":"HTTP 429","level":"error","message":"CoinGecko fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:33:03.462Z"}
{"fallbackRate":1650,"level":"warn","message":"CoinGecko NGN unavailable, using fallback rate","service":"currency-exchange-api","timestamp":"2025-11-18T16:33:03.464Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:33:03.465Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T16:33:03.466Z"}
{"duration":359,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T16:33:03.468Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:33:03.950Z"}
{"error":"HTTP 429","level":"error","message":"CoinGecko fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:33:04.046Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:33:04.250Z"}
{"fallbackRate":1650,"level":"warn","message":"CoinGecko NGN unavailable, using fallback rate","service":"currency-exchange-api","timestamp":"2025-11-18T16:33:04.289Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:33:04.290Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T16:33:04.291Z"}
{"duration":343,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T16:33:04.293Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:33:04.711Z"}
{"error":"HTTP 429","level":"error","message":"CoinGecko fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:33:04.797Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:33:04.946Z"}
{"fallbackRate":1650,"level":"warn","message":"CoinGecko NGN unavailable, using fallback rate","service":"currency-exchange-api","timestamp":"2025-11-18T16:33:05.306Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:33:05.307Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T16:33:05.308Z"}
{"duration":599,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T16:33:05.310Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:33:24.933Z"}
{"error":"HTTP 429","level":"error","message":"CoinGecko fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:33:25.350Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:33:25.595Z"}
{"fallbackRate":1650,"level":"warn","message":"CoinGecko NGN unavailable, using fallback rate","service":"currency-exchange-api","timestamp":"2025-11-18T16:33:25.624Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:33:25.626Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T16:33:25.626Z"}
{"duration":697,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T16:33:25.630Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:33:26.901Z"}
{"error":"HTTP 429","level":"error","message":"CoinGecko fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:33:27.072Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:33:27.189Z"}
{"fallbackRate":1650,"level":"warn","message":"CoinGecko NGN unavailable, using fallback rate","service":"currency-exchange-api","timestamp":"2025-11-18T16:33:27.224Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:33:27.227Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T16:33:27.228Z"}
{"duration":329,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T16:33:27.230Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:34:34.127Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:34:34.658Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:34:34.854Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T16:34:34.855Z"}
{"duration":731,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T16:34:34.858Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:36:25.203Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:36:27.839Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:36:27.841Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T16:36:27.842Z"}
{"duration":2641,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T16:36:27.844Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:36:33.544Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:36:33.974Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:36:34.009Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T16:36:34.010Z"}
{"duration":468,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T16:36:34.012Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:36:57.109Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:36:57.777Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:36:57.914Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T16:36:57.915Z"}
{"duration":808,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T16:36:57.917Z"}
{"databaseURL":"https://payment-method-tech-crypto-default-rtdb.europe-west1.firebasedatabase.app","level":"info","message":"Firebase initialized successfully","projectId":"payment-method-tech-crypto","service":"currency-exchange-api","timestamp":"2025-11-18T16:39:14.758Z"}
{"keyType":"LIVE","level":"info","message":"âœ… Paystack API helper initialized","service":"currency-exchange-api","timestamp":"2025-11-18T16:39:14.768Z"}
{"cacheEnabled":true,"cacheTTL":1800,"encryptionEnabled":true,"environment":"production","fallbackNgnRate":1650,"firebaseConnected":true,"level":"info","maxRetries":5,"message":"ðŸš€ HorizonPay API started on port 3000","retryDelay":2000,"service":"currency-exchange-api","sessionTTL":"300s","timestamp":"2025-11-18T16:39:14.788Z","trustProxy":true,"version":"2.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:39:38.751Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:39:39.290Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:39:39.662Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T16:39:39.666Z"}
{"duration":923,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T16:39:39.674Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:40:47.566Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:40:48.525Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:40:48.736Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T16:40:48.738Z"}
{"duration":1175,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T16:40:48.742Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:41:04.207Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:41:05.020Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:41:05.022Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T16:41:05.022Z"}
{"duration":818,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T16:41:05.025Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:41:24.699Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:41:25.225Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:41:25.518Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T16:41:25.520Z"}
{"duration":823,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T16:41:25.522Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:41:47.322Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:41:48.442Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:41:48.815Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T16:41:48.816Z"}
{"duration":1497,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T16:41:48.820Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:44:09.399Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:44:10.433Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:44:10.597Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T16:44:10.599Z"}
{"duration":1202,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T16:44:10.601Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:44:16.374Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:44:16.693Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:44:16.738Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T16:44:16.740Z"}
{"duration":370,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T16:44:16.743Z"}
{"databaseURL":"https://payment-method-tech-crypto-default-rtdb.europe-west1.firebasedatabase.app","level":"info","message":"Firebase initialized successfully","projectId":"payment-method-tech-crypto","service":"currency-exchange-api","timestamp":"2025-11-18T16:44:21.281Z"}
{"keyType":"LIVE","level":"info","message":"âœ… Paystack API helper initialized","service":"currency-exchange-api","timestamp":"2025-11-18T16:44:21.290Z"}
{"cacheEnabled":true,"cacheTTL":1800,"encryptionEnabled":true,"environment":"production","fallbackNgnRate":1650,"firebaseConnected":true,"level":"info","maxRetries":5,"message":"ðŸš€ HorizonPay API started on port 3000","retryDelay":2000,"service":"currency-exchange-api","sessionTTL":"300s","timestamp":"2025-11-18T16:44:21.310Z","trustProxy":true,"version":"2.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:44:31.804Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:44:32.200Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:44:32.226Z"}
{"level":"warn","message":"No P2P ads meet quality criteria - will use CoinGecko fallback","service":"currency-exchange-api","timestamp":"2025-11-18T16:44:32.227Z"}
{"error":"Cannot read properties of null (reading 'lowestRate')","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of null (reading 'lowestRate')\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1256:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1377:24","timestamp":"2025-11-18T16:44:32.229Z"}
{"duration":434,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T16:44:32.238Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:44:56.519Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:44:56.929Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:44:56.964Z"}
{"level":"warn","message":"No P2P ads meet quality criteria - will use CoinGecko fallback","service":"currency-exchange-api","timestamp":"2025-11-18T16:44:56.965Z"}
{"error":"Cannot read properties of null (reading 'lowestRate')","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of null (reading 'lowestRate')\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1256:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1377:24","timestamp":"2025-11-18T16:44:56.967Z"}
{"duration":451,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T16:44:56.970Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:52:59.595Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:53:00.250Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:53:01.035Z"}
{"level":"warn","message":"No P2P ads meet quality criteria - will use CoinGecko fallback","service":"currency-exchange-api","timestamp":"2025-11-18T16:53:01.036Z"}
{"error":"Cannot read properties of null (reading 'lowestRate')","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of null (reading 'lowestRate')\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1256:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1377:24","timestamp":"2025-11-18T16:53:01.037Z"}
{"duration":1444,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T16:53:01.040Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:53:16.699Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:53:17.092Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:53:17.129Z"}
{"level":"warn","message":"No P2P ads meet quality criteria - will use CoinGecko fallback","service":"currency-exchange-api","timestamp":"2025-11-18T16:53:17.131Z"}
{"error":"Cannot read properties of null (reading 'lowestRate')","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of null (reading 'lowestRate')\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1256:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1377:24","timestamp":"2025-11-18T16:53:17.132Z"}
{"duration":435,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T16:53:17.135Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:53:36.699Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:53:37.519Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:53:37.643Z"}
{"level":"warn","message":"No P2P ads meet quality criteria - will use CoinGecko fallback","service":"currency-exchange-api","timestamp":"2025-11-18T16:53:37.644Z"}
{"error":"Cannot read properties of null (reading 'lowestRate')","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of null (reading 'lowestRate')\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1256:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1377:24","timestamp":"2025-11-18T16:53:37.645Z"}
{"duration":951,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T16:53:37.650Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:53:56.698Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:53:57.163Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:53:57.165Z"}
{"level":"warn","message":"No P2P ads meet quality criteria - will use CoinGecko fallback","service":"currency-exchange-api","timestamp":"2025-11-18T16:53:57.166Z"}
{"error":"Cannot read properties of null (reading 'lowestRate')","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of null (reading 'lowestRate')\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1256:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1377:24","timestamp":"2025-11-18T16:53:57.167Z"}
{"duration":471,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T16:53:57.170Z"}
{"level":"info","message":"Cleaned up 1 expired sessions","service":"currency-exchange-api","timestamp":"2025-11-18T16:54:24.389Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:54:34.701Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:54:35.143Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:54:35.322Z"}
{"level":"warn","message":"No P2P ads meet quality criteria - will use CoinGecko fallback","service":"currency-exchange-api","timestamp":"2025-11-18T16:54:35.323Z"}
{"error":"Cannot read properties of null (reading 'lowestRate')","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of null (reading 'lowestRate')\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1256:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1377:24","timestamp":"2025-11-18T16:54:35.324Z"}
{"duration":625,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T16:54:35.327Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:55:38.966Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:55:39.452Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T16:55:39.665Z"}
{"level":"warn","message":"No P2P ads meet quality criteria - will use CoinGecko fallback","service":"currency-exchange-api","timestamp":"2025-11-18T16:55:39.666Z"}
{"error":"Cannot read properties of null (reading 'lowestRate')","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of null (reading 'lowestRate')\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1256:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1377:24","timestamp":"2025-11-18T16:55:39.667Z"}
{"duration":703,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T16:55:39.669Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:56:58.648Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:56:59.446Z"}
{"level":"info","message":"Market data cached","service":"currency-exchange-api","timestamp":"2025-11-18T16:56:59.678Z","ttl":1800,"usedFallback":false}
{"finalRate":15.97,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.119256228166829,"savingsPercent":1.4197530864197447,"savingsVsMin":0.22999999999999865,"service":"currency-exchange-api","timestamp":"2025-11-18T16:56:59.681Z"}
{"duration":1036,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T16:56:59.684Z"}
{"finalRate":15.9,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.701542261875738,"savingsPercent":1.8518518518518454,"savingsVsMin":0.29999999999999893,"service":"currency-exchange-api","timestamp":"2025-11-18T16:57:16.915Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T16:57:16.918Z"}
{"databaseURL":"https://payment-method-tech-crypto-default-rtdb.europe-west1.firebasedatabase.app","level":"info","message":"Firebase initialized successfully","projectId":"payment-method-tech-crypto","service":"currency-exchange-api","timestamp":"2025-11-18T16:57:32.566Z"}
{"keyType":"LIVE","level":"info","message":"âœ… Paystack API helper initialized","service":"currency-exchange-api","timestamp":"2025-11-18T16:57:32.577Z"}
{"cacheEnabled":true,"cacheTTL":1800,"encryptionEnabled":true,"environment":"production","fallbackNgnRate":1650,"firebaseConnected":true,"level":"info","maxRetries":5,"message":"ðŸš€ HorizonPay API started on port 3000","retryDelay":2000,"service":"currency-exchange-api","sessionTTL":"300s","timestamp":"2025-11-18T16:57:32.653Z","trustProxy":true,"version":"2.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T16:57:36.512Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T16:57:37.179Z"}
{"level":"info","message":"Market data cached","service":"currency-exchange-api","timestamp":"2025-11-18T16:57:37.251Z","ttl":1800,"usedFallback":false}
{"finalRate":15.91,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.761440726827418,"savingsPercent":1.7901234567901183,"savingsVsMin":0.28999999999999915,"service":"currency-exchange-api","timestamp":"2025-11-18T16:57:37.253Z"}
{"duration":747,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T16:57:37.258Z"}
{"finalRate":15.88,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.581519015354173,"savingsPercent":1.9753086419752997,"savingsVsMin":0.3199999999999985,"service":"currency-exchange-api","timestamp":"2025-11-18T16:57:56.883Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T16:57:56.886Z"}
{"finalRate":15.9,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.701542261875738,"savingsPercent":1.8518518518518454,"savingsVsMin":0.29999999999999893,"service":"currency-exchange-api","timestamp":"2025-11-18T16:58:16.574Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T16:58:16.576Z"}
{"finalRate":15.89,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.641568405527014,"savingsPercent":1.9135802469135723,"savingsVsMin":0.3099999999999987,"service":"currency-exchange-api","timestamp":"2025-11-18T16:58:25.767Z"}
{"level":"info","message":"Attempting to save transaction to Firebase","service":"currency-exchange-api","sessionId":"18b2372d-3d26-400c-a84d-41988b8236da","timestamp":"2025-11-18T16:58:25.784Z"}
{"expiresAt":"2025-11-18T17:03:25.769Z","level":"info","message":"Transaction session created successfully","service":"currency-exchange-api","sessionId":"18b2372d-3d26-400c-a84d-41988b8236da","status":"pending","timestamp":"2025-11-18T16:58:26.227Z"}
{"amount":1000,"exchangeRate":15.89,"from":"NGN","level":"info","message":"Transaction initiated","profitMargin":4.641568405527014,"rateSource":"Binance P2P (Primary)","sanitizedUser":{"customerName":"Test User","email":null,"paymentMethod":"bank","phone":null,"receiveMethod":"UPI"},"service":"currency-exchange-api","sessionId":"18b2372d-3d26-400c-a84d-41988b8236da","timestamp":"2025-11-18T16:58:26.229Z","to":"INR","usedCoinGeckoFallback":false}
{"duration":7993,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/convert","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T16:58:26.264Z"}
{"finalRate":15.97,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.119256228166829,"savingsPercent":1.4197530864197447,"savingsVsMin":0.22999999999999865,"service":"currency-exchange-api","timestamp":"2025-11-18T16:58:36.374Z"}
{"duration":5,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T16:58:36.379Z"}
{"amount":1000,"level":"info","message":"Initializing Paystack payment","reference":"HP-18b2372d-3d26-400c-a84d-41988b8236da-1763485121006","service":"currency-exchange-api","sessionId":"18b2372d-3d26-400c-a84d-41988b8236da","timestamp":"2025-11-18T16:58:41.006Z"}
{"level":"warn","message":"âš ï¸  Using MOCK payment - Paystack not configured","service":"currency-exchange-api","timestamp":"2025-11-18T16:58:41.008Z"}
{"authorizationUrl":"http://localhost:3000/mock-payment?ref=HP-18b2372d-3d26-400c-a84d-41988b8236da-1763485121006","level":"info","message":"Paystack payment initialized","reference":"HP-18b2372d-3d26-400c-a84d-41988b8236da-1763485121006","service":"currency-exchange-api","sessionId":"18b2372d-3d26-400c-a84d-41988b8236da","timestamp":"2025-11-18T16:58:41.803Z"}
{"duration":1598,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T16:58:41.833Z"}
{"finalRate":15.87,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.5213939485711485,"savingsPercent":2.0370370370370376,"savingsVsMin":0.33000000000000007,"service":"currency-exchange-api","timestamp":"2025-11-18T16:58:56.422Z"}
{"duration":6,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T16:58:56.427Z"}
{"finalRate":15.95,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.000283508703707,"savingsPercent":1.54320987654321,"savingsVsMin":0.25,"service":"currency-exchange-api","timestamp":"2025-11-18T16:59:16.466Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T16:59:16.469Z"}
{"finalRate":15.98,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.178630911378238,"savingsPercent":1.3580246913580178,"savingsVsMin":0.21999999999999886,"service":"currency-exchange-api","timestamp":"2025-11-18T16:59:38.764Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T16:59:38.767Z"}
{"finalRate":15.86,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.4611930620317874,"savingsPercent":2.098765432098765,"savingsVsMin":0.33999999999999986,"service":"currency-exchange-api","timestamp":"2025-11-18T16:59:56.388Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T16:59:56.391Z"}
{"finalRate":15.89,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.641568405527014,"savingsPercent":1.9135802469135723,"savingsVsMin":0.3099999999999987,"service":"currency-exchange-api","timestamp":"2025-11-18T17:00:16.374Z"}
{"duration":7,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T17:00:16.381Z"}
{"finalRate":15.86,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.4611930620317874,"savingsPercent":2.098765432098765,"savingsVsMin":0.33999999999999986,"service":"currency-exchange-api","timestamp":"2025-11-18T17:00:36.373Z"}
{"duration":5,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T17:00:36.378Z"}
{"duration":579,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T17:00:55.288Z"}
{"finalRate":15.97,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.119256228166829,"savingsPercent":1.4197530864197447,"savingsVsMin":0.22999999999999865,"service":"currency-exchange-api","timestamp":"2025-11-18T17:00:56.431Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T17:00:56.434Z"}
{"duration":501,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:00:57.203Z"}
{"duration":675,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:00:59.355Z"}
{"duration":541,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:01:01.198Z"}
{"duration":572,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:01:03.254Z"}
{"duration":740,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:01:05.396Z"}
{"duration":1519,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:01:08.177Z"}
{"duration":537,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:01:09.194Z"}
{"duration":444,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:01:11.113Z"}
{"duration":2234,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:01:14.890Z"}
{"duration":535,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:01:15.432Z"}
{"finalRate":15.96,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.059807140590494,"savingsPercent":1.4814814814814719,"savingsVsMin":0.23999999999999844,"service":"currency-exchange-api","timestamp":"2025-11-18T17:01:16.373Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T17:01:16.378Z"}
{"duration":516,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:01:17.172Z"}
{"duration":565,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:01:19.222Z"}
{"duration":509,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:01:21.166Z"}
{"duration":491,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:01:23.146Z"}
{"duration":911,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:01:25.568Z"}
{"duration":1094,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:01:27.749Z"}
{"duration":804,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:01:29.461Z"}
{"duration":648,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:01:31.304Z"}
{"duration":490,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:01:33.146Z"}
{"finalRate":15.89,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.641568405527014,"savingsPercent":1.9135802469135723,"savingsVsMin":0.3099999999999987,"service":"currency-exchange-api","timestamp":"2025-11-18T17:01:36.388Z"}
{"duration":6,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T17:01:36.394Z"}
{"duration":3169,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:01:37.826Z"}
{"duration":742,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:01:38.575Z"}
{"duration":536,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:01:39.191Z"}
{"duration":582,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:01:41.238Z"}
{"duration":712,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:01:43.368Z"}
{"duration":779,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:01:45.435Z"}
{"duration":656,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:01:47.313Z"}
{"finalRate":15.87,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.5213939485711485,"savingsPercent":2.0370370370370376,"savingsVsMin":0.33000000000000007,"service":"currency-exchange-api","timestamp":"2025-11-18T17:01:56.373Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T17:01:56.377Z"}
{"duration":13916,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:02:02.572Z"}
{"duration":4591,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:02:07.170Z"}
{"duration":6421,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:02:13.596Z"}
{"duration":707,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:02:14.314Z"}
{"duration":604,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:02:14.927Z"}
{"duration":610,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:02:15.549Z"}
{"duration":634,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:02:16.193Z"}
{"finalRate":15.88,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.581519015354173,"savingsPercent":1.9753086419752997,"savingsVsMin":0.3199999999999985,"service":"currency-exchange-api","timestamp":"2025-11-18T17:02:16.374Z"}
{"duration":6,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T17:02:16.380Z"}
{"duration":463,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:02:16.668Z"}
{"duration":503,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:02:17.183Z"}
{"duration":700,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:02:17.903Z"}
{"duration":905,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:02:18.819Z"}
{"duration":505,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:02:19.332Z"}
{"duration":502,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/payment/status/18b2372d-3d26-400c-a84d-41988b8236da","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:02:19.844Z"}
{"finalRate":15.92,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.821263942451268,"savingsPercent":1.7283950617283912,"savingsVsMin":0.27999999999999936,"service":"currency-exchange-api","timestamp":"2025-11-18T17:02:36.374Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T17:02:36.376Z"}
{"error":"Transaction already payment_initiated","ip":"::1","level":"error","message":"Request error","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","stack":"ValidationError: Transaction already payment_initiated\n    at /Users/mac/Desktop/Lovra copy/script.js:1596:13\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-11-18T17:02:44.113Z"}
{"duration":608,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","statusCode":400,"timestamp":"2025-11-18T17:02:44.125Z"}
{"finalRate":15.92,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.821263942451268,"savingsPercent":1.7283950617283912,"savingsVsMin":0.27999999999999936,"service":"currency-exchange-api","timestamp":"2025-11-18T17:02:56.416Z"}
{"duration":19,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:02:56.423Z"}
{"finalRate":15.91,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.761440726827418,"savingsPercent":1.7901234567901183,"savingsVsMin":0.28999999999999915,"service":"currency-exchange-api","timestamp":"2025-11-18T17:03:16.373Z"}
{"duration":7,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T17:03:16.380Z"}
{"finalRate":15.9,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.701542261875738,"savingsPercent":1.8518518518518454,"savingsVsMin":0.29999999999999893,"service":"currency-exchange-api","timestamp":"2025-11-18T17:04:15.501Z"}
{"duration":18,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T17:04:15.518Z"}
{"finalRate":15.9,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.701542261875738,"savingsPercent":1.8518518518518454,"savingsVsMin":0.29999999999999893,"service":"currency-exchange-api","timestamp":"2025-11-18T17:04:39.920Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:04:39.923Z"}
{"finalRate":15.85,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.400916212228654,"savingsPercent":2.1604938271604914,"savingsVsMin":0.34999999999999964,"service":"currency-exchange-api","timestamp":"2025-11-18T17:04:56.699Z"}
{"duration":7,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T17:04:56.706Z"}
{"finalRate":15.91,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.761440726827418,"savingsPercent":1.7901234567901183,"savingsVsMin":0.28999999999999915,"service":"currency-exchange-api","timestamp":"2025-11-18T17:05:16.742Z"}
{"duration":6,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T17:05:16.747Z"}
{"level":"info","message":"Cleaned up 1 expired sessions","service":"currency-exchange-api","timestamp":"2025-11-18T17:07:33.908Z"}
{"finalRate":15.96,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.059807140590494,"savingsPercent":1.4814814814814719,"savingsVsMin":0.23999999999999844,"service":"currency-exchange-api","timestamp":"2025-11-18T17:07:34.197Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T17:07:34.200Z"}
{"finalRate":15.98,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.178630911378238,"savingsPercent":1.3580246913580178,"savingsVsMin":0.21999999999999886,"service":"currency-exchange-api","timestamp":"2025-11-18T17:08:37.824Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T17:08:37.827Z"}
{"finalRate":15.95,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.000283508703707,"savingsPercent":1.54320987654321,"savingsVsMin":0.25,"service":"currency-exchange-api","timestamp":"2025-11-18T17:11:31.252Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T17:11:31.255Z"}
{"finalRate":15.95,"level":"info","message":"Competitive rate calculated successfully","profitMargin":5.000283508703707,"savingsPercent":1.54320987654321,"savingsVsMin":0.25,"service":"currency-exchange-api","timestamp":"2025-11-18T17:13:00.455Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:13:00.458Z"}
{"databaseURL":"https://payment-method-tech-crypto-default-rtdb.europe-west1.firebasedatabase.app","level":"info","message":"Firebase initialized successfully","projectId":"payment-method-tech-crypto","service":"currency-exchange-api","timestamp":"2025-11-18T17:15:10.984Z"}
{"keyType":"LIVE","level":"info","message":"âœ… Paystack API helper initialized","service":"currency-exchange-api","timestamp":"2025-11-18T17:15:10.990Z"}
{"cacheEnabled":true,"cacheTTL":1800,"encryptionEnabled":true,"environment":"production","fallbackNgnRate":1650,"firebaseConnected":true,"level":"info","maxRetries":5,"message":"ðŸš€ HorizonPay API started on port 3000","retryDelay":2000,"service":"currency-exchange-api","sessionTTL":"300s","timestamp":"2025-11-18T17:15:11.010Z","trustProxy":true,"version":"2.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:15:26.603Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:15:27.278Z"}
{"level":"info","message":"Market data cached","service":"currency-exchange-api","timestamp":"2025-11-18T17:15:27.910Z","ttl":1800,"usedFallback":false}
{"finalRate":15.92,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.779712516068707,"savingsPercent":1.7283950617283912,"savingsVsMin":0.27999999999999936,"service":"currency-exchange-api","timestamp":"2025-11-18T17:15:27.913Z"}
{"duration":1321,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T17:15:27.923Z"}
{"databaseURL":"https://payment-method-tech-crypto-default-rtdb.europe-west1.firebasedatabase.app","level":"info","message":"Firebase initialized successfully","projectId":"payment-method-tech-crypto","service":"currency-exchange-api","timestamp":"2025-11-18T17:22:18.046Z"}
{"keyType":"LIVE","level":"info","message":"âœ… Paystack API helper initialized","service":"currency-exchange-api","timestamp":"2025-11-18T17:22:18.054Z"}
{"cacheEnabled":true,"cacheTTL":1800,"encryptionEnabled":true,"environment":"production","fallbackNgnRate":1650,"firebaseConnected":true,"level":"info","maxRetries":5,"message":"ðŸš€ HorizonPay API started on port 3000","retryDelay":2000,"service":"currency-exchange-api","sessionTTL":"300s","timestamp":"2025-11-18T17:22:18.088Z","trustProxy":true,"version":"2.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:22:35.682Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:22:37.749Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:22:41.824Z"}
{"level":"warn","message":"No P2P ads meet quality criteria - will use CoinGecko fallback","service":"currency-exchange-api","timestamp":"2025-11-18T17:22:41.825Z"}
{"error":"Cannot read properties of null (reading 'lowestRate')","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of null (reading 'lowestRate')\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1256:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1377:24","timestamp":"2025-11-18T17:22:41.827Z"}
{"duration":6153,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T17:22:41.834Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:22:46.596Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:22:47.220Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:22:47.223Z"}
{"level":"warn","message":"No P2P ads meet quality criteria - will use CoinGecko fallback","service":"currency-exchange-api","timestamp":"2025-11-18T17:22:47.224Z"}
{"error":"Cannot read properties of null (reading 'lowestRate')","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of null (reading 'lowestRate')\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1256:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1377:24","timestamp":"2025-11-18T17:22:47.226Z"}
{"duration":632,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T17:22:47.228Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:23:06.594Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:23:07.334Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:23:07.380Z"}
{"level":"warn","message":"No P2P ads meet quality criteria - will use CoinGecko fallback","service":"currency-exchange-api","timestamp":"2025-11-18T17:23:07.381Z"}
{"error":"Cannot read properties of null (reading 'lowestRate')","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of null (reading 'lowestRate')\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1256:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1377:24","timestamp":"2025-11-18T17:23:07.382Z"}
{"duration":791,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T17:23:07.386Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:23:26.594Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:23:27.268Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:23:28.045Z"}
{"level":"warn","message":"No P2P ads meet quality criteria - will use CoinGecko fallback","service":"currency-exchange-api","timestamp":"2025-11-18T17:23:28.046Z"}
{"error":"Cannot read properties of null (reading 'lowestRate')","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of null (reading 'lowestRate')\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1256:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1377:24","timestamp":"2025-11-18T17:23:28.047Z"}
{"duration":1455,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T17:23:28.049Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:23:46.593Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:23:47.089Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:23:47.956Z"}
{"level":"warn","message":"No P2P ads meet quality criteria - will use CoinGecko fallback","service":"currency-exchange-api","timestamp":"2025-11-18T17:23:47.958Z"}
{"error":"Cannot read properties of null (reading 'lowestRate')","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of null (reading 'lowestRate')\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1256:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1377:24","timestamp":"2025-11-18T17:23:47.959Z"}
{"duration":1368,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T17:23:47.961Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:24:06.592Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:24:07.137Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:24:07.468Z"}
{"level":"warn","message":"No P2P ads meet quality criteria - will use CoinGecko fallback","service":"currency-exchange-api","timestamp":"2025-11-18T17:24:07.470Z"}
{"error":"Cannot read properties of null (reading 'lowestRate')","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of null (reading 'lowestRate')\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1256:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1377:24","timestamp":"2025-11-18T17:24:07.471Z"}
{"duration":881,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T17:24:07.474Z"}
{"databaseURL":"https://payment-method-tech-crypto-default-rtdb.europe-west1.firebasedatabase.app","level":"info","message":"Firebase initialized successfully","projectId":"payment-method-tech-crypto","service":"currency-exchange-api","timestamp":"2025-11-18T17:24:17.246Z"}
{"keyType":"LIVE","level":"info","message":"âœ… Paystack API helper initialized","service":"currency-exchange-api","timestamp":"2025-11-18T17:24:17.252Z"}
{"cacheEnabled":true,"cacheTTL":1800,"encryptionEnabled":true,"environment":"production","fallbackNgnRate":1650,"firebaseConnected":true,"level":"info","maxRetries":5,"message":"ðŸš€ HorizonPay API started on port 3000","retryDelay":2000,"service":"currency-exchange-api","sessionTTL":"300s","timestamp":"2025-11-18T17:24:17.269Z","trustProxy":true,"version":"2.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:24:26.604Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:24:29.066Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:24:30.165Z"}
{"level":"warn","message":"No P2P ads meet quality criteria - will use CoinGecko fallback","service":"currency-exchange-api","timestamp":"2025-11-18T17:24:30.167Z"}
{"error":"Cannot read properties of null (reading 'lowestRate')","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of null (reading 'lowestRate')\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1256:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1377:24","timestamp":"2025-11-18T17:24:30.170Z"}
{"duration":3590,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T17:24:30.194Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:24:40.536Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:24:51.133Z"}
{"error":"Request timeout","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:24:56.151Z"}
{"error":"Request timeout","level":"error","message":"CoinGecko fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:24:56.154Z"}
{"attempt":1,"error":"Request timeout","level":"warn","message":"Request failed, retrying (1/5)","service":"currency-exchange-api","timestamp":"2025-11-18T17:24:56.158Z"}
{"error":"Request timeout","level":"error","message":"CoinGecko fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:25:05.410Z"}
{"error":"Request timeout","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:25:05.420Z"}
{"attempt":1,"error":"Request timeout","level":"warn","message":"Request failed, retrying (1/5)","service":"currency-exchange-api","timestamp":"2025-11-18T17:25:05.424Z"}
{"fallbackRate":1650,"level":"warn","message":"CoinGecko NGN unavailable, using fallback rate","service":"currency-exchange-api","timestamp":"2025-11-18T17:25:17.933Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:25:17.935Z"}
{"level":"warn","message":"No P2P ads meet quality criteria - will use CoinGecko fallback","service":"currency-exchange-api","timestamp":"2025-11-18T17:25:17.935Z"}
{"error":"Cannot read properties of null (reading 'lowestRate')","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of null (reading 'lowestRate')\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1256:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1377:24","timestamp":"2025-11-18T17:25:17.937Z"}
{"duration":26807,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T17:25:17.940Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:25:18.035Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:25:26.156Z"}
{"attempt":1,"error":"Request timeout","level":"warn","message":"Request failed, retrying (1/5)","service":"currency-exchange-api","timestamp":"2025-11-18T17:25:28.045Z"}
{"attempt":2,"error":"Request timeout","level":"warn","message":"Request failed, retrying (2/5)","service":"currency-exchange-api","timestamp":"2025-11-18T17:25:31.658Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:25:33.799Z"}
{"level":"warn","message":"No P2P ads meet quality criteria - will use CoinGecko fallback","service":"currency-exchange-api","timestamp":"2025-11-18T17:25:33.800Z"}
{"error":"Cannot read properties of null (reading 'lowestRate')","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of null (reading 'lowestRate')\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1256:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1377:24","timestamp":"2025-11-18T17:25:33.801Z"}
{"duration":15779,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T17:25:33.814Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:25:33.838Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:25:34.446Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:25:34.448Z"}
{"level":"warn","message":"No P2P ads meet quality criteria - will use CoinGecko fallback","service":"currency-exchange-api","timestamp":"2025-11-18T17:25:34.449Z"}
{"error":"Cannot read properties of null (reading 'lowestRate')","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of null (reading 'lowestRate')\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1256:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1377:24","timestamp":"2025-11-18T17:25:34.450Z"}
{"duration":627,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T17:25:34.465Z"}
{"fallbackRate":1650,"level":"warn","message":"CoinGecko NGN unavailable, using fallback rate","service":"currency-exchange-api","timestamp":"2025-11-18T17:25:36.217Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:25:36.219Z"}
{"level":"warn","message":"No P2P ads meet quality criteria - will use CoinGecko fallback","service":"currency-exchange-api","timestamp":"2025-11-18T17:25:36.220Z"}
{"error":"Cannot read properties of null (reading 'lowestRate')","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of null (reading 'lowestRate')\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1256:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1377:24","timestamp":"2025-11-18T17:25:36.221Z"}
{"duration":55689,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T17:25:36.225Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:25:48.112Z"}
{"error":"Request timeout","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:26:10.441Z"}
{"error":"Request timeout","level":"error","message":"CoinGecko fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:26:10.444Z"}
{"attempt":1,"error":"Request timeout","level":"warn","message":"Request failed, retrying (1/5)","service":"currency-exchange-api","timestamp":"2025-11-18T17:26:11.459Z"}
{"attempt":2,"error":"Request timeout","level":"warn","message":"Request failed, retrying (2/5)","service":"currency-exchange-api","timestamp":"2025-11-18T17:26:18.472Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:26:26.605Z"}
{"attempt":3,"error":"Request timeout","level":"warn","message":"Request failed, retrying (3/5)","service":"currency-exchange-api","timestamp":"2025-11-18T17:26:27.482Z"}
{"error":"Request timeout","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:26:31.614Z"}
{"error":"Request timeout","level":"error","message":"CoinGecko fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:26:31.617Z"}
{"attempt":1,"error":"Request timeout","level":"warn","message":"Request failed, retrying (1/5)","service":"currency-exchange-api","timestamp":"2025-11-18T17:26:31.618Z"}
{"attempt":2,"error":"Request timeout","level":"warn","message":"Request failed, retrying (2/5)","service":"currency-exchange-api","timestamp":"2025-11-18T17:26:38.627Z"}
{"attempt":4,"error":"Request timeout","level":"warn","message":"Request failed, retrying (4/5)","service":"currency-exchange-api","timestamp":"2025-11-18T17:26:40.496Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:26:46.593Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:26:47.093Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:26:47.300Z"}
{"level":"warn","message":"No P2P ads meet quality criteria - will use CoinGecko fallback","service":"currency-exchange-api","timestamp":"2025-11-18T17:26:47.302Z"}
{"error":"Cannot read properties of null (reading 'lowestRate')","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of null (reading 'lowestRate')\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1256:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1377:24","timestamp":"2025-11-18T17:26:47.303Z"}
{"duration":712,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T17:26:47.306Z"}
{"fallbackRate":1650,"level":"warn","message":"CoinGecko NGN unavailable, using fallback rate","service":"currency-exchange-api","timestamp":"2025-11-18T17:26:47.432Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:26:47.437Z"}
{"level":"warn","message":"No P2P ads meet quality criteria - will use CoinGecko fallback","service":"currency-exchange-api","timestamp":"2025-11-18T17:26:47.438Z"}
{"error":"Cannot read properties of null (reading 'lowestRate')","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of null (reading 'lowestRate')\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1256:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1377:24","timestamp":"2025-11-18T17:26:47.440Z"}
{"duration":20838,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T17:26:47.443Z"}
{"fallbackRate":1650,"level":"warn","message":"CoinGecko NGN unavailable, using fallback rate","service":"currency-exchange-api","timestamp":"2025-11-18T17:26:57.508Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:26:57.510Z"}
{"level":"warn","message":"No P2P ads meet quality criteria - will use CoinGecko fallback","service":"currency-exchange-api","timestamp":"2025-11-18T17:26:57.511Z"}
{"error":"Cannot read properties of null (reading 'lowestRate')","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of null (reading 'lowestRate')\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1256:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1377:24","timestamp":"2025-11-18T17:26:57.511Z"}
{"duration":69402,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T17:26:57.514Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:26:57.530Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:26:58.497Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:26:58.500Z"}
{"level":"warn","message":"No P2P ads meet quality criteria - will use CoinGecko fallback","service":"currency-exchange-api","timestamp":"2025-11-18T17:26:58.500Z"}
{"error":"Cannot read properties of null (reading 'lowestRate')","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of null (reading 'lowestRate')\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1256:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1377:24","timestamp":"2025-11-18T17:26:58.501Z"}
{"duration":981,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T17:26:58.512Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:27:06.698Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:27:07.144Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:27:07.542Z"}
{"level":"warn","message":"No P2P ads meet quality criteria - will use CoinGecko fallback","service":"currency-exchange-api","timestamp":"2025-11-18T17:27:07.543Z"}
{"error":"Cannot read properties of null (reading 'lowestRate')","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of null (reading 'lowestRate')\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1256:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1377:24","timestamp":"2025-11-18T17:27:07.544Z"}
{"duration":853,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T17:27:07.551Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:27:08.259Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:27:08.580Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:27:08.587Z"}
{"level":"warn","message":"No P2P ads meet quality criteria - will use CoinGecko fallback","service":"currency-exchange-api","timestamp":"2025-11-18T17:27:08.588Z"}
{"error":"Cannot read properties of null (reading 'lowestRate')","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of null (reading 'lowestRate')\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1256:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1377:24","timestamp":"2025-11-18T17:27:08.588Z"}
{"duration":332,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T17:27:08.591Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:27:11.308Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:27:11.551Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:27:11.584Z"}
{"level":"warn","message":"No P2P ads meet quality criteria - will use CoinGecko fallback","service":"currency-exchange-api","timestamp":"2025-11-18T17:27:11.585Z"}
{"error":"Cannot read properties of null (reading 'lowestRate')","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of null (reading 'lowestRate')\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1256:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1377:24","timestamp":"2025-11-18T17:27:11.587Z"}
{"duration":282,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T17:27:11.590Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:27:14.023Z"}
{"error":"HTTP 429","level":"error","message":"CoinGecko fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:27:14.114Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:27:14.267Z"}
{"fallbackRate":1650,"level":"warn","message":"CoinGecko NGN unavailable, using fallback rate","service":"currency-exchange-api","timestamp":"2025-11-18T17:27:14.285Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:27:14.286Z"}
{"level":"warn","message":"No P2P ads meet quality criteria - will use CoinGecko fallback","service":"currency-exchange-api","timestamp":"2025-11-18T17:27:14.287Z"}
{"error":"Cannot read properties of null (reading 'lowestRate')","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of null (reading 'lowestRate')\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1256:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1377:24","timestamp":"2025-11-18T17:27:14.289Z"}
{"duration":269,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T17:27:14.291Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:28:23.049Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:28:24.980Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:28:27.906Z"}
{"level":"warn","message":"No P2P ads meet quality criteria - will use CoinGecko fallback","service":"currency-exchange-api","timestamp":"2025-11-18T17:28:27.907Z"}
{"error":"Cannot read properties of null (reading 'lowestRate')","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of null (reading 'lowestRate')\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1256:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1377:24","timestamp":"2025-11-18T17:28:27.908Z"}
{"duration":4862,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T17:28:27.911Z"}
{"databaseURL":"https://payment-method-tech-crypto-default-rtdb.europe-west1.firebasedatabase.app","level":"info","message":"Firebase initialized successfully","projectId":"payment-method-tech-crypto","service":"currency-exchange-api","timestamp":"2025-11-18T17:28:57.725Z"}
{"keyType":"LIVE","level":"info","message":"âœ… Paystack API helper initialized","service":"currency-exchange-api","timestamp":"2025-11-18T17:28:57.740Z"}
{"cacheEnabled":true,"cacheTTL":1800,"encryptionEnabled":true,"environment":"production","fallbackNgnRate":1650,"firebaseConnected":true,"level":"info","maxRetries":5,"message":"ðŸš€ HorizonPay API started on port 3000","retryDelay":2000,"service":"currency-exchange-api","sessionTTL":"300s","timestamp":"2025-11-18T17:28:57.771Z","trustProxy":true,"version":"2.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:29:30.113Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:29:31.526Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:29:33.675Z"}
{"level":"warn","message":"No P2P ads meet quality criteria - will use CoinGecko fallback","service":"currency-exchange-api","timestamp":"2025-11-18T17:29:33.677Z"}
{"error":"Cannot read properties of null (reading 'lowestRate')","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of null (reading 'lowestRate')\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1256:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1377:24","timestamp":"2025-11-18T17:29:33.679Z"}
{"duration":3573,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T17:29:33.685Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:31:32.029Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:31:32.557Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:31:33.186Z"}
{"level":"warn","message":"No P2P ads meet quality criteria - will use CoinGecko fallback","service":"currency-exchange-api","timestamp":"2025-11-18T17:31:33.188Z"}
{"error":"Cannot read properties of null (reading 'lowestRate')","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of null (reading 'lowestRate')\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1256:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1377:24","timestamp":"2025-11-18T17:31:33.190Z"}
{"duration":1165,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T17:31:33.194Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:31:33.950Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:31:34.260Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:31:34.304Z"}
{"level":"warn","message":"No P2P ads meet quality criteria - will use CoinGecko fallback","service":"currency-exchange-api","timestamp":"2025-11-18T17:31:34.306Z"}
{"error":"Cannot read properties of null (reading 'lowestRate')","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of null (reading 'lowestRate')\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1256:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1377:24","timestamp":"2025-11-18T17:31:34.307Z"}
{"duration":359,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T17:31:34.310Z"}
{"databaseURL":"https://payment-method-tech-crypto-default-rtdb.europe-west1.firebasedatabase.app","level":"info","message":"Firebase initialized successfully","projectId":"payment-method-tech-crypto","service":"currency-exchange-api","timestamp":"2025-11-18T17:31:57.969Z"}
{"keyType":"LIVE","level":"info","message":"âœ… Paystack API helper initialized","service":"currency-exchange-api","timestamp":"2025-11-18T17:31:57.976Z"}
{"cacheEnabled":true,"cacheTTL":1800,"encryptionEnabled":true,"environment":"production","fallbackNgnRate":1650,"firebaseConnected":true,"level":"info","maxRetries":5,"message":"ðŸš€ HorizonPay API started on port 3000","retryDelay":2000,"service":"currency-exchange-api","sessionTTL":"300s","timestamp":"2025-11-18T17:31:57.999Z","trustProxy":true,"version":"2.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:32:07.563Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:32:09.644Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:32:09.665Z"}
{"level":"warn","message":"No P2P ads meet quality criteria - will use CoinGecko fallback","service":"currency-exchange-api","timestamp":"2025-11-18T17:32:09.666Z"}
{"error":"Cannot read properties of null (reading 'lowestRate')","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of null (reading 'lowestRate')\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1256:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1377:24","timestamp":"2025-11-18T17:32:09.668Z"}
{"duration":2113,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T17:32:09.675Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:32:18.563Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:32:19.567Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:32:19.615Z"}
{"level":"warn","message":"No P2P ads meet quality criteria - will use CoinGecko fallback","service":"currency-exchange-api","timestamp":"2025-11-18T17:32:19.622Z"}
{"error":"Cannot read properties of null (reading 'lowestRate')","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of null (reading 'lowestRate')\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1256:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1377:24","timestamp":"2025-11-18T17:32:19.626Z"}
{"duration":1089,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T17:32:19.652Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:32:26.703Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:32:27.087Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:32:27.185Z"}
{"level":"warn","message":"No P2P ads meet quality criteria - will use CoinGecko fallback","service":"currency-exchange-api","timestamp":"2025-11-18T17:32:27.186Z"}
{"error":"Cannot read properties of null (reading 'lowestRate')","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"TypeError: Cannot read properties of null (reading 'lowestRate')\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1256:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1377:24","timestamp":"2025-11-18T17:32:27.187Z"}
{"duration":488,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":500,"timestamp":"2025-11-18T17:32:27.190Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:32:47.226Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:32:47.597Z"}
{"databaseURL":"https://payment-method-tech-crypto-default-rtdb.europe-west1.firebasedatabase.app","level":"info","message":"Firebase initialized successfully","projectId":"payment-method-tech-crypto","service":"currency-exchange-api","timestamp":"2025-11-18T17:33:08.030Z"}
{"keyType":"LIVE","level":"info","message":"âœ… Paystack API helper initialized","service":"currency-exchange-api","timestamp":"2025-11-18T17:33:08.035Z"}
{"cacheEnabled":true,"cacheTTL":1800,"encryptionEnabled":true,"environment":"production","fallbackNgnRate":1650,"firebaseConnected":true,"level":"info","maxRetries":5,"message":"ðŸš€ HorizonPay API started on port 3000","retryDelay":2000,"service":"currency-exchange-api","sessionTTL":"300s","timestamp":"2025-11-18T17:33:08.052Z","trustProxy":true,"version":"2.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:33:16.451Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:33:21.352Z"}
{"attempt":1,"error":"Request timeout","level":"warn","message":"Request failed, retrying (1/5)","service":"currency-exchange-api","timestamp":"2025-11-18T17:33:21.501Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:33:23.929Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T17:33:23.931Z"}
{"duration":7491,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T17:33:23.941Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:33:29.105Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:33:35.243Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:33:36.197Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T17:33:36.201Z"}
{"duration":7099,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T17:33:36.204Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:33:36.699Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:33:36.942Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:33:36.955Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T17:33:36.957Z"}
{"duration":260,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T17:33:36.960Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:36:09.444Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:36:09.869Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:36:10.508Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T17:36:10.510Z"}
{"duration":1069,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T17:36:10.513Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:38:21.666Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:38:23.542Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:38:23.719Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T17:38:23.721Z"}
{"duration":2057,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T17:38:23.723Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:38:40.786Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:38:41.251Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:38:41.400Z"}
{"level":"info","message":"Market data cached","service":"currency-exchange-api","timestamp":"2025-11-18T17:38:41.402Z","ttl":1800,"usedFallback":false}
{"finalRate":15.96,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.367242938162688,"savingsPercent":1.4814814814814719,"savingsVsMin":0.23999999999999844,"service":"currency-exchange-api","timestamp":"2025-11-18T17:38:41.404Z"}
{"duration":621,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T17:38:41.406Z"}
{"finalRate":15.96,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.367242938162688,"savingsPercent":1.4814814814814719,"savingsVsMin":0.23999999999999844,"service":"currency-exchange-api","timestamp":"2025-11-18T17:39:07.392Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:39:07.394Z"}
{"finalRate":15.98,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.486933497689391,"savingsPercent":1.3580246913580178,"savingsVsMin":0.21999999999999886,"service":"currency-exchange-api","timestamp":"2025-11-18T17:39:22.959Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T17:39:22.962Z"}
{"databaseURL":"https://payment-method-tech-crypto-default-rtdb.europe-west1.firebasedatabase.app","level":"info","message":"Firebase initialized successfully","projectId":"payment-method-tech-crypto","service":"currency-exchange-api","timestamp":"2025-11-18T17:40:30.662Z"}
{"keyType":"LIVE","level":"info","message":"âœ… Paystack API helper initialized","service":"currency-exchange-api","timestamp":"2025-11-18T17:40:30.669Z"}
{"cacheEnabled":true,"cacheTTL":1800,"encryptionEnabled":true,"environment":"production","fallbackNgnRate":1650,"firebaseConnected":true,"level":"info","maxRetries":5,"message":"ðŸš€ HorizonPay API started on port 3000","retryDelay":2000,"service":"currency-exchange-api","sessionTTL":"300s","timestamp":"2025-11-18T17:40:30.689Z","trustProxy":true,"version":"2.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:40:34.334Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:40:35.019Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:40:35.463Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T17:40:35.465Z"}
{"duration":1143,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T17:40:35.476Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:40:40.638Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:40:41.019Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:40:41.136Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T17:40:41.138Z"}
{"duration":503,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T17:40:41.142Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:41:00.638Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:41:01.091Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:41:01.366Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T17:41:01.368Z"}
{"duration":733,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T17:41:01.371Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:41:10.365Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:41:10.796Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:41:10.904Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T17:41:10.906Z"}
{"duration":544,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T17:41:10.909Z"}
{"databaseURL":"https://payment-method-tech-crypto-default-rtdb.europe-west1.firebasedatabase.app","level":"info","message":"Firebase initialized successfully","projectId":"payment-method-tech-crypto","service":"currency-exchange-api","timestamp":"2025-11-18T17:41:40.473Z"}
{"keyType":"LIVE","level":"info","message":"âœ… Paystack API helper initialized","service":"currency-exchange-api","timestamp":"2025-11-18T17:41:40.479Z"}
{"cacheEnabled":true,"cacheTTL":1800,"encryptionEnabled":true,"environment":"production","fallbackNgnRate":1650,"firebaseConnected":true,"level":"info","maxRetries":5,"message":"ðŸš€ HorizonPay API started on port 3000","retryDelay":2000,"service":"currency-exchange-api","sessionTTL":"300s","timestamp":"2025-11-18T17:41:40.507Z","trustProxy":true,"version":"2.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:41:40.667Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:41:41.138Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:41:41.748Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T17:41:41.752Z"}
{"duration":1092,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T17:41:41.758Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:41:49.753Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:41:50.540Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:41:50.662Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T17:41:50.665Z"}
{"duration":915,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T17:41:50.669Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:42:06.920Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:42:07.582Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:42:07.659Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T17:42:07.660Z"}
{"duration":743,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T17:42:07.663Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:42:12.682Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:42:13.053Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:42:13.194Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T17:42:13.195Z"}
{"duration":516,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T17:42:13.198Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:42:27.200Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:42:28.936Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:42:29.654Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T17:42:29.656Z"}
{"duration":2458,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T17:42:29.658Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:44:09.661Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:44:11.063Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:44:11.448Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:44:11.685Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:44:11.986Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T17:44:11.988Z"}
{"duration":928,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T17:44:11.992Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:44:12.281Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T17:44:12.283Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:47:32.374Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:47:35.892Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:47:39.558Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T17:47:39.560Z"}
{"duration":7196,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T17:47:39.570Z"}
{"databaseURL":"https://payment-method-tech-crypto-default-rtdb.europe-west1.firebasedatabase.app","level":"info","message":"Firebase initialized successfully","projectId":"payment-method-tech-crypto","service":"currency-exchange-api","timestamp":"2025-11-18T17:47:53.783Z"}
{"keyType":"LIVE","level":"info","message":"âœ… Paystack API helper initialized","service":"currency-exchange-api","timestamp":"2025-11-18T17:47:53.789Z"}
{"cacheEnabled":true,"cacheTTL":1800,"encryptionEnabled":true,"environment":"production","fallbackNgnRate":1650,"firebaseConnected":true,"level":"info","maxRetries":5,"message":"ðŸš€ HorizonPay API started on port 3000","retryDelay":2000,"service":"currency-exchange-api","sessionTTL":"300s","timestamp":"2025-11-18T17:47:53.807Z","trustProxy":true,"version":"2.0.0"}
{"databaseURL":"https://payment-method-tech-crypto-default-rtdb.europe-west1.firebasedatabase.app","level":"info","message":"Firebase initialized successfully","projectId":"payment-method-tech-crypto","service":"currency-exchange-api","timestamp":"2025-11-18T17:51:11.154Z"}
{"keyType":"LIVE","level":"info","message":"âœ… Paystack API helper initialized","service":"currency-exchange-api","timestamp":"2025-11-18T17:51:11.160Z"}
{"cacheEnabled":true,"cacheTTL":1800,"encryptionEnabled":true,"environment":"production","fallbackNgnRate":1650,"firebaseConnected":true,"level":"info","maxRetries":5,"message":"ðŸš€ HorizonPay API started on port 3000","retryDelay":2000,"service":"currency-exchange-api","sessionTTL":"300s","timestamp":"2025-11-18T17:51:11.192Z","trustProxy":true,"version":"2.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:51:38.678Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:51:40.817Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:51:41.446Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T17:51:41.449Z"}
{"duration":2794,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T17:51:41.472Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:51:51.702Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:51:52.085Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:51:52.616Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T17:51:52.618Z"}
{"duration":919,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T17:51:52.621Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:55:17.442Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:55:17.972Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:55:18.320Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T17:55:18.322Z"}
{"duration":883,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T17:55:18.325Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:55:34.702Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:55:35.058Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:55:35.161Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T17:55:35.163Z"}
{"duration":465,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T17:55:35.166Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:56:07.180Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:56:07.540Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:56:07.716Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T17:56:07.717Z"}
{"duration":541,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T17:56:07.721Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:56:11.024Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:56:11.222Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:56:11.681Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T17:56:11.682Z"}
{"duration":684,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T17:56:11.708Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T17:56:31.024Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T17:56:31.433Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T17:56:32.152Z"}
{"level":"info","message":"Market data cached","service":"currency-exchange-api","timestamp":"2025-11-18T17:56:32.154Z","ttl":1800,"usedFallback":false}
{"finalRate":15.88,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.398924576813146,"savingsPercent":1.9753086419752997,"savingsVsMin":0.3199999999999985,"service":"currency-exchange-api","timestamp":"2025-11-18T17:56:32.155Z"}
{"duration":1133,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T17:56:32.158Z"}
{"finalRate":15.91,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.5791905895532805,"savingsPercent":1.7901234567901183,"savingsVsMin":0.28999999999999915,"service":"currency-exchange-api","timestamp":"2025-11-18T17:56:51.027Z"}
{"duration":12,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T17:56:51.038Z"}
{"finalRate":15.91,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.5791905895532805,"savingsPercent":1.7901234567901183,"savingsVsMin":0.28999999999999915,"service":"currency-exchange-api","timestamp":"2025-11-18T17:57:11.026Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T17:57:11.029Z"}
{"finalRate":15.97,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.937690812760972,"savingsPercent":1.4197530864197447,"savingsVsMin":0.22999999999999865,"service":"currency-exchange-api","timestamp":"2025-11-18T17:57:31.026Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T17:57:31.029Z"}
{"finalRate":15.94,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.758778060212837,"savingsPercent":1.604938271604937,"savingsVsMin":0.2599999999999998,"service":"currency-exchange-api","timestamp":"2025-11-18T17:57:51.026Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T17:57:51.030Z"}
{"finalRate":15.96,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.87812796239303,"savingsPercent":1.4814814814814719,"savingsVsMin":0.23999999999999844,"service":"currency-exchange-api","timestamp":"2025-11-18T17:58:11.026Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T17:58:11.030Z"}
{"finalRate":15.87,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.338684453673132,"savingsPercent":2.0370370370370376,"savingsVsMin":0.33000000000000007,"service":"currency-exchange-api","timestamp":"2025-11-18T17:58:31.025Z"}
{"duration":5,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T17:58:31.029Z"}
{"finalRate":15.9,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.519177501873755,"savingsPercent":1.8518518518518454,"savingsVsMin":0.29999999999999893,"service":"currency-exchange-api","timestamp":"2025-11-18T17:58:51.026Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T17:58:51.029Z"}
{"finalRate":15.86,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.278368365686798,"savingsPercent":2.098765432098765,"savingsVsMin":0.33999999999999986,"service":"currency-exchange-api","timestamp":"2025-11-18T17:59:11.026Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T17:59:11.029Z"}
{"finalRate":15.94,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.758778060212837,"savingsPercent":1.604938271604937,"savingsVsMin":0.2599999999999998,"service":"currency-exchange-api","timestamp":"2025-11-18T17:59:31.026Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T17:59:31.035Z"}
{"finalRate":15.97,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.937690812760972,"savingsPercent":1.4197530864197447,"savingsVsMin":0.22999999999999865,"service":"currency-exchange-api","timestamp":"2025-11-18T17:59:51.026Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T17:59:51.029Z"}
{"finalRate":15.86,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.278368365686798,"savingsPercent":2.098765432098765,"savingsVsMin":0.33999999999999986,"service":"currency-exchange-api","timestamp":"2025-11-18T18:00:11.025Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:00:11.028Z"}
{"finalRate":15.95,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.8184904250653675,"savingsPercent":1.54320987654321,"savingsVsMin":0.25,"service":"currency-exchange-api","timestamp":"2025-11-18T18:00:31.025Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:00:31.029Z"}
{"finalRate":15.9,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.519177501873755,"savingsPercent":1.8518518518518454,"savingsVsMin":0.29999999999999893,"service":"currency-exchange-api","timestamp":"2025-11-18T18:00:51.025Z"}
{"duration":2,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:00:51.035Z"}
{"finalRate":15.86,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.278368365686798,"savingsPercent":2.098765432098765,"savingsVsMin":0.33999999999999986,"service":"currency-exchange-api","timestamp":"2025-11-18T18:01:11.027Z"}
{"duration":2,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:01:11.029Z"}
{"finalRate":15.95,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.8184904250653675,"savingsPercent":1.54320987654321,"savingsVsMin":0.25,"service":"currency-exchange-api","timestamp":"2025-11-18T18:01:31.045Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:01:31.048Z"}
{"finalRate":15.87,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.338684453673132,"savingsPercent":2.0370370370370376,"savingsVsMin":0.33000000000000007,"service":"currency-exchange-api","timestamp":"2025-11-18T18:01:51.024Z"}
{"duration":5,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:01:51.064Z"}
{"finalRate":15.87,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.338684453673132,"savingsPercent":2.0370370370370376,"savingsVsMin":0.33000000000000007,"service":"currency-exchange-api","timestamp":"2025-11-18T18:01:52.467Z"}
{"level":"info","message":"Attempting to save transaction to Firebase","service":"currency-exchange-api","sessionId":"1da1c08e-a3ca-4b69-aad5-0dc227687b00","timestamp":"2025-11-18T18:01:52.481Z"}
{"expiresAt":"2025-11-18T18:06:52.471Z","level":"info","message":"Transaction session created successfully","service":"currency-exchange-api","sessionId":"1da1c08e-a3ca-4b69-aad5-0dc227687b00","status":"pending","timestamp":"2025-11-18T18:01:53.080Z"}
{"amount":1000,"exchangeRate":15.87,"from":"NGN","level":"info","message":"Transaction initiated","profitMargin":4.338684453673132,"rateSource":"Binance P2P (Primary)","sanitizedUser":{"customerName":"Yahiya Mouhoumoud","email":null,"paymentMethod":"bank","phone":null,"receiveMethod":"UPI"},"service":"currency-exchange-api","sessionId":"1da1c08e-a3ca-4b69-aad5-0dc227687b00","timestamp":"2025-11-18T18:01:53.081Z","to":"INR","usedCoinGeckoFallback":false}
{"duration":1205,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/convert","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:01:53.126Z"}
{"finalRate":15.92,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.639128283906575,"savingsPercent":1.7283950617283912,"savingsVsMin":0.27999999999999936,"service":"currency-exchange-api","timestamp":"2025-11-18T18:02:20.123Z"}
{"duration":7,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:02:20.130Z"}
{"amount":1000,"level":"info","message":"Initializing Paystack payment","reference":"HP-1da1c08e-a3ca-4b69-aad5-0dc227687b00-1763488940630","service":"currency-exchange-api","sessionId":"1da1c08e-a3ca-4b69-aad5-0dc227687b00","timestamp":"2025-11-18T18:02:20.631Z"}
{"level":"warn","message":"âš ï¸  Using MOCK payment - Paystack not configured","service":"currency-exchange-api","timestamp":"2025-11-18T18:02:20.632Z"}
{"authorizationUrl":"http://localhost:3000/mock-payment?ref=HP-1da1c08e-a3ca-4b69-aad5-0dc227687b00-1763488940630","level":"info","message":"Paystack payment initialized","reference":"HP-1da1c08e-a3ca-4b69-aad5-0dc227687b00-1763488940630","service":"currency-exchange-api","sessionId":"1da1c08e-a3ca-4b69-aad5-0dc227687b00","timestamp":"2025-11-18T18:02:21.139Z"}
{"duration":1078,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:02:21.162Z"}
{"finalRate":15.97,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.937690812760972,"savingsPercent":1.4197530864197447,"savingsVsMin":0.22999999999999865,"service":"currency-exchange-api","timestamp":"2025-11-18T18:02:31.023Z"}
{"duration":2,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:02:31.025Z"}
{"finalRate":15.94,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.758778060212837,"savingsPercent":1.604938271604937,"savingsVsMin":0.2599999999999998,"service":"currency-exchange-api","timestamp":"2025-11-18T18:02:51.049Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:02:51.051Z"}
{"finalRate":15.9,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.519177501873755,"savingsPercent":1.8518518518518454,"savingsVsMin":0.29999999999999893,"service":"currency-exchange-api","timestamp":"2025-11-18T18:03:11.025Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:03:11.028Z"}
{"finalRate":15.87,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.338684453673132,"savingsPercent":2.0370370370370376,"savingsVsMin":0.33000000000000007,"service":"currency-exchange-api","timestamp":"2025-11-18T18:03:31.026Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:03:31.029Z"}
{"finalRate":15.85,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.217976169072091,"savingsPercent":2.1604938271604914,"savingsVsMin":0.34999999999999964,"service":"currency-exchange-api","timestamp":"2025-11-18T18:03:51.233Z"}
{"duration":15,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:03:51.248Z"}
{"finalRate":15.9,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.519177501873755,"savingsPercent":1.8518518518518454,"savingsVsMin":0.29999999999999893,"service":"currency-exchange-api","timestamp":"2025-11-18T18:04:11.025Z"}
{"duration":8,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:04:11.032Z"}
{"level":"info","message":"Manual verification requested","reference":"HP-1da1c08e-a3ca-4b69-aad5-0dc227687b00-1763488940630","service":"currency-exchange-api","sessionId":"1da1c08e-a3ca-4b69-aad5-0dc227687b00","timestamp":"2025-11-18T18:04:12.956Z"}
{"amount":1000,"level":"info","message":"âœ… Payment verified","service":"currency-exchange-api","sessionId":"1da1c08e-a3ca-4b69-aad5-0dc227687b00","timestamp":"2025-11-18T18:04:14.291Z"}
{"duration":1339,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/payment/verify-manual","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:04:14.320Z"}
{"finalRate":15.88,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.398924576813146,"savingsPercent":1.9753086419752997,"savingsVsMin":0.3199999999999985,"service":"currency-exchange-api","timestamp":"2025-11-18T18:04:31.026Z"}
{"duration":5,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:04:31.031Z"}
{"finalRate":15.92,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.639128283906575,"savingsPercent":1.7283950617283912,"savingsVsMin":0.27999999999999936,"service":"currency-exchange-api","timestamp":"2025-11-18T18:04:51.026Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:04:51.029Z"}
{"finalRate":15.97,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.937690812760972,"savingsPercent":1.4197530864197447,"savingsVsMin":0.22999999999999865,"service":"currency-exchange-api","timestamp":"2025-11-18T18:05:11.091Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:05:11.095Z"}
{"finalRate":15.87,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.338684453673132,"savingsPercent":2.0370370370370376,"savingsVsMin":0.33000000000000007,"service":"currency-exchange-api","timestamp":"2025-11-18T18:05:30.847Z"}
{"duration":5,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:05:30.851Z"}
{"finalRate":15.95,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.8184904250653675,"savingsPercent":1.54320987654321,"savingsVsMin":0.25,"service":"currency-exchange-api","timestamp":"2025-11-18T18:05:50.816Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:05:50.824Z"}
{"finalRate":15.96,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.87812796239303,"savingsPercent":1.4814814814814719,"savingsVsMin":0.23999999999999844,"service":"currency-exchange-api","timestamp":"2025-11-18T18:06:10.913Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:06:10.916Z"}
{"finalRate":15.86,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.278368365686798,"savingsPercent":2.098765432098765,"savingsVsMin":0.33999999999999986,"service":"currency-exchange-api","timestamp":"2025-11-18T18:06:30.816Z"}
{"duration":5,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:06:30.820Z"}
{"finalRate":15.94,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.758778060212837,"savingsPercent":1.604938271604937,"savingsVsMin":0.2599999999999998,"service":"currency-exchange-api","timestamp":"2025-11-18T18:06:50.818Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:06:50.820Z"}
{"finalRate":15.86,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.278368365686798,"savingsPercent":2.098765432098765,"savingsVsMin":0.33999999999999986,"service":"currency-exchange-api","timestamp":"2025-11-18T18:07:10.818Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:07:10.821Z"}
{"finalRate":15.96,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.87812796239303,"savingsPercent":1.4814814814814719,"savingsVsMin":0.23999999999999844,"service":"currency-exchange-api","timestamp":"2025-11-18T18:07:31.697Z"}
{"duration":7,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:07:31.704Z"}
{"finalRate":15.93,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.6989907269173035,"savingsPercent":1.6666666666666643,"savingsVsMin":0.2699999999999996,"service":"currency-exchange-api","timestamp":"2025-11-18T18:07:51.714Z"}
{"duration":7,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:07:51.717Z"}
{"finalRate":15.87,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.338684453673132,"savingsPercent":2.0370370370370376,"savingsVsMin":0.33000000000000007,"service":"currency-exchange-api","timestamp":"2025-11-18T18:08:10.831Z"}
{"duration":27,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:08:10.858Z"}
{"finalRate":15.86,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.278368365686798,"savingsPercent":2.098765432098765,"savingsVsMin":0.33999999999999986,"service":"currency-exchange-api","timestamp":"2025-11-18T18:08:30.816Z"}
{"duration":28,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:08:30.843Z"}
{"finalRate":15.97,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.937690812760972,"savingsPercent":1.4197530864197447,"savingsVsMin":0.22999999999999865,"service":"currency-exchange-api","timestamp":"2025-11-18T18:08:51.699Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:08:51.703Z"}
{"finalRate":15.87,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.338684453673132,"savingsPercent":2.0370370370370376,"savingsVsMin":0.33000000000000007,"service":"currency-exchange-api","timestamp":"2025-11-18T18:09:11.699Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:09:11.702Z"}
{"finalRate":15.94,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.758778060212837,"savingsPercent":1.604938271604937,"savingsVsMin":0.2599999999999998,"service":"currency-exchange-api","timestamp":"2025-11-18T18:09:31.699Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:09:31.703Z"}
{"finalRate":15.94,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.758778060212837,"savingsPercent":1.604938271604937,"savingsVsMin":0.2599999999999998,"service":"currency-exchange-api","timestamp":"2025-11-18T18:09:53.442Z"}
{"duration":10,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T18:09:53.452Z"}
{"finalRate":15.92,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.639128283906575,"savingsPercent":1.7283950617283912,"savingsVsMin":0.27999999999999936,"service":"currency-exchange-api","timestamp":"2025-11-18T18:10:11.771Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:10:11.774Z"}
{"finalRate":15.86,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.278368365686798,"savingsPercent":2.098765432098765,"savingsVsMin":0.33999999999999986,"service":"currency-exchange-api","timestamp":"2025-11-18T18:10:31.700Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:10:31.704Z"}
{"finalRate":15.93,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.6989907269173035,"savingsPercent":1.6666666666666643,"savingsVsMin":0.2699999999999996,"service":"currency-exchange-api","timestamp":"2025-11-18T18:10:51.699Z"}
{"duration":2,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:10:51.702Z"}
{"level":"info","message":"Cleaned up 1 expired sessions","service":"currency-exchange-api","timestamp":"2025-11-18T18:11:12.750Z"}
{"finalRate":15.86,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.278368365686798,"savingsPercent":2.098765432098765,"savingsVsMin":0.33999999999999986,"service":"currency-exchange-api","timestamp":"2025-11-18T18:11:32.323Z"}
{"duration":17,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:11:32.340Z"}
{"finalRate":15.92,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.639128283906575,"savingsPercent":1.7283950617283912,"savingsVsMin":0.27999999999999936,"service":"currency-exchange-api","timestamp":"2025-11-18T18:11:51.765Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:11:51.768Z"}
{"finalRate":15.9,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.519177501873755,"savingsPercent":1.8518518518518454,"savingsVsMin":0.29999999999999893,"service":"currency-exchange-api","timestamp":"2025-11-18T18:12:11.700Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:12:11.703Z"}
{"finalRate":15.94,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.758778060212837,"savingsPercent":1.604938271604937,"savingsVsMin":0.2599999999999998,"service":"currency-exchange-api","timestamp":"2025-11-18T18:12:30.817Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:12:30.820Z"}
{"finalRate":15.95,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.8184904250653675,"savingsPercent":1.54320987654321,"savingsVsMin":0.25,"service":"currency-exchange-api","timestamp":"2025-11-18T18:12:51.314Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:12:51.317Z"}
{"finalRate":15.86,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.278368365686798,"savingsPercent":2.098765432098765,"savingsVsMin":0.33999999999999986,"service":"currency-exchange-api","timestamp":"2025-11-18T18:13:29.552Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:13:29.555Z"}
{"finalRate":15.87,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.338684453673132,"savingsPercent":2.0370370370370376,"savingsVsMin":0.33000000000000007,"service":"currency-exchange-api","timestamp":"2025-11-18T18:13:35.105Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:13:35.108Z"}
{"finalRate":15.94,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.758778060212837,"savingsPercent":1.604938271604937,"savingsVsMin":0.2599999999999998,"service":"currency-exchange-api","timestamp":"2025-11-18T18:13:51.968Z"}
{"duration":2,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:13:51.970Z"}
{"finalRate":15.87,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.338684453673132,"savingsPercent":2.0370370370370376,"savingsVsMin":0.33000000000000007,"service":"currency-exchange-api","timestamp":"2025-11-18T18:14:38.271Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:14:38.274Z"}
{"finalRate":15.86,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.278368365686798,"savingsPercent":2.098765432098765,"savingsVsMin":0.33999999999999986,"service":"currency-exchange-api","timestamp":"2025-11-18T18:15:35.230Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:15:35.233Z"}
{"finalRate":15.9,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.519177501873755,"savingsPercent":1.8518518518518454,"savingsVsMin":0.29999999999999893,"service":"currency-exchange-api","timestamp":"2025-11-18T18:16:34.700Z"}
{"duration":6,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:16:34.705Z"}
{"finalRate":15.9,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.519177501873755,"savingsPercent":1.8518518518518454,"savingsVsMin":0.29999999999999893,"service":"currency-exchange-api","timestamp":"2025-11-18T18:17:34.700Z"}
{"duration":2,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T18:17:34.702Z"}
{"finalRate":15.95,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.8184904250653675,"savingsPercent":1.54320987654321,"savingsVsMin":0.25,"service":"currency-exchange-api","timestamp":"2025-11-18T18:18:35.220Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:18:35.222Z"}
{"finalRate":15.91,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.5791905895532805,"savingsPercent":1.7901234567901183,"savingsVsMin":0.28999999999999915,"service":"currency-exchange-api","timestamp":"2025-11-18T18:19:34.733Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:19:34.736Z"}
{"finalRate":15.91,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.5791905895532805,"savingsPercent":1.7901234567901183,"savingsVsMin":0.28999999999999915,"service":"currency-exchange-api","timestamp":"2025-11-18T18:20:35.022Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T18:20:35.025Z"}
{"finalRate":15.93,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.6989907269173035,"savingsPercent":1.6666666666666643,"savingsVsMin":0.2699999999999996,"service":"currency-exchange-api","timestamp":"2025-11-18T18:21:34.710Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:21:34.713Z"}
{"finalRate":15.91,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.5791905895532805,"savingsPercent":1.7901234567901183,"savingsVsMin":0.28999999999999915,"service":"currency-exchange-api","timestamp":"2025-11-18T18:22:34.709Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:22:34.712Z"}
{"finalRate":15.88,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.398924576813146,"savingsPercent":1.9753086419752997,"savingsVsMin":0.3199999999999985,"service":"currency-exchange-api","timestamp":"2025-11-18T18:23:34.708Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:23:34.711Z"}
{"finalRate":15.92,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.639128283906575,"savingsPercent":1.7283950617283912,"savingsVsMin":0.27999999999999936,"service":"currency-exchange-api","timestamp":"2025-11-18T18:24:34.908Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:24:34.911Z"}
{"finalRate":15.94,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.758778060212837,"savingsPercent":1.604938271604937,"savingsVsMin":0.2599999999999998,"service":"currency-exchange-api","timestamp":"2025-11-18T18:25:34.710Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:25:34.713Z"}
{"finalRate":15.97,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.937690812760972,"savingsPercent":1.4197530864197447,"savingsVsMin":0.22999999999999865,"service":"currency-exchange-api","timestamp":"2025-11-18T18:25:50.817Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:25:50.820Z"}
{"finalRate":15.94,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.758778060212837,"savingsPercent":1.604938271604937,"savingsVsMin":0.2599999999999998,"service":"currency-exchange-api","timestamp":"2025-11-18T18:26:10.818Z"}
{"duration":19,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:26:10.836Z"}
{"finalRate":15.89,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.459088878526918,"savingsPercent":1.9135802469135723,"savingsVsMin":0.3099999999999987,"service":"currency-exchange-api","timestamp":"2025-11-18T18:26:30.821Z"}
{"duration":21,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T18:26:30.842Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T18:26:52.108Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T18:26:52.699Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T18:26:53.390Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T18:26:53.391Z"}
{"duration":1285,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T18:26:53.393Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T18:27:14.753Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T18:27:15.112Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T18:27:15.232Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T18:27:15.234Z"}
{"duration":484,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T18:27:15.237Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T18:27:31.364Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T18:27:31.797Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T18:27:32.286Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T18:27:32.288Z"}
{"duration":926,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T18:27:32.290Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T18:27:39.077Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T18:27:39.960Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T18:27:40.787Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T18:27:40.789Z"}
{"duration":1715,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T18:27:40.792Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T18:27:57.349Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T18:27:57.729Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T18:27:58.319Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T18:27:58.321Z"}
{"duration":974,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T18:27:58.323Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T18:28:10.816Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T18:28:11.480Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T18:28:11.976Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T18:28:11.977Z"}
{"duration":1164,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T18:28:11.980Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T18:28:30.817Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T18:28:31.881Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T18:28:32.233Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T18:28:32.235Z"}
{"duration":1421,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T18:28:32.238Z"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T18:28:51.102Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T18:28:54.785Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T18:28:54.939Z"}
{"error":"No P2P ads meet quality criteria","ip":"::1","level":"error","message":"Request error","method":"GET","path":"/api/rates","service":"currency-exchange-api","stack":"ExternalAPIError: No P2P ads meet quality criteria\n    at analyzeP2P (/Users/mac/Desktop/Lovra copy/script.js:638:13)\n    at getMarketData (/Users/mac/Desktop/Lovra copy/script.js:1242:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Lovra copy/script.js:1372:24","timestamp":"2025-11-18T18:28:54.941Z"}
{"duration":3842,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":503,"timestamp":"2025-11-18T18:28:54.944Z"}
{"databaseURL":"https://payment-method-tech-crypto-default-rtdb.europe-west1.firebasedatabase.app","level":"info","message":"Firebase initialized successfully","projectId":"payment-method-tech-crypto","service":"currency-exchange-api","timestamp":"2025-11-18T19:50:36.597Z"}
{"keyType":"LIVE","level":"info","message":"âœ… Paystack API helper initialized","service":"currency-exchange-api","timestamp":"2025-11-18T19:50:36.765Z"}
{"cacheEnabled":true,"cacheTTL":1800,"encryptionEnabled":true,"environment":"production","fallbackNgnRate":1650,"firebaseConnected":true,"level":"info","maxRetries":5,"message":"ðŸš€ HorizonPay API started on port 3000","retryDelay":2000,"service":"currency-exchange-api","sessionTTL":"300s","timestamp":"2025-11-18T19:50:36.808Z","trustProxy":true,"version":"2.0.0"}
{"level":"info","message":"Fetching fresh market data","service":"currency-exchange-api","timestamp":"2025-11-18T19:50:50.612Z"}
{"error":"HTTP 400","level":"error","message":"Binance Spot fetch failed","service":"currency-exchange-api","timestamp":"2025-11-18T19:50:52.618Z"}
{"level":"warn","message":"No ads passed strict filter, trying relaxed","service":"currency-exchange-api","timestamp":"2025-11-18T19:50:52.621Z"}
{"level":"info","message":"Market data cached","service":"currency-exchange-api","timestamp":"2025-11-18T19:50:52.623Z","ttl":1800,"usedFallback":false}
{"finalRate":15.92,"level":"info","message":"Competitive rate calculated successfully","profitMargin":3.7078770434783523,"savingsPercent":1.7283950617283912,"savingsVsMin":0.27999999999999936,"service":"currency-exchange-api","timestamp":"2025-11-18T19:50:52.624Z"}
{"duration":2025,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T19:50:52.636Z"}
{"finalRate":15.95,"level":"info","message":"Competitive rate calculated successfully","profitMargin":3.8889907543683577,"savingsPercent":1.54320987654321,"savingsVsMin":0.25,"service":"currency-exchange-api","timestamp":"2025-11-18T19:51:10.641Z"}
{"duration":12,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T19:51:10.652Z"}
{"finalRate":15.97,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.009355199259577,"savingsPercent":1.4197530864197447,"savingsVsMin":0.22999999999999865,"service":"currency-exchange-api","timestamp":"2025-11-18T19:51:30.571Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T19:51:30.581Z"}
{"finalRate":15.94,"level":"info","message":"Competitive rate calculated successfully","profitMargin":3.8286952655066075,"savingsPercent":1.604938271604937,"savingsVsMin":0.2599999999999998,"service":"currency-exchange-api","timestamp":"2025-11-18T19:51:50.570Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T19:51:50.574Z"}
{"finalRate":15.89,"level":"info","message":"Competitive rate calculated successfully","profitMargin":3.5260794545107257,"savingsPercent":1.9135802469135723,"savingsVsMin":0.3099999999999987,"service":"currency-exchange-api","timestamp":"2025-11-18T19:52:10.570Z"}
{"duration":6,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T19:52:10.595Z"}
{"finalRate":15.92,"level":"info","message":"Competitive rate calculated successfully","profitMargin":3.7078770434783523,"savingsPercent":1.7283950617283912,"savingsVsMin":0.27999999999999936,"service":"currency-exchange-api","timestamp":"2025-11-18T19:52:30.570Z"}
{"duration":16,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T19:52:30.586Z"}
{"finalRate":15.91,"level":"info","message":"Competitive rate calculated successfully","profitMargin":3.6473540246496157,"savingsPercent":1.7901234567901183,"savingsVsMin":0.28999999999999915,"service":"currency-exchange-api","timestamp":"2025-11-18T19:52:50.568Z"}
{"duration":5,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T19:52:50.573Z"}
{"finalRate":15.9,"level":"info","message":"Competitive rate calculated successfully","profitMargin":3.586754876237447,"savingsPercent":1.8518518518518454,"savingsVsMin":0.29999999999999893,"service":"currency-exchange-api","timestamp":"2025-11-18T19:53:10.569Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T19:53:10.573Z"}
{"finalRate":15.91,"level":"info","message":"Competitive rate calculated successfully","profitMargin":3.6473540246496157,"savingsPercent":1.7901234567901183,"savingsVsMin":0.28999999999999915,"service":"currency-exchange-api","timestamp":"2025-11-18T19:53:30.570Z"}
{"duration":11,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T19:53:30.581Z"}
{"finalRate":15.86,"level":"info","message":"Competitive rate calculated successfully","profitMargin":3.343594106694535,"savingsPercent":2.098765432098765,"savingsVsMin":0.33999999999999986,"service":"currency-exchange-api","timestamp":"2025-11-18T19:53:50.570Z"}
{"duration":5,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T19:53:50.574Z"}
{"finalRate":15.91,"level":"info","message":"Competitive rate calculated successfully","profitMargin":3.6473540246496157,"savingsPercent":1.7901234567901183,"savingsVsMin":0.28999999999999915,"service":"currency-exchange-api","timestamp":"2025-11-18T19:54:10.568Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T19:54:10.572Z"}
{"finalRate":15.94,"level":"info","message":"Competitive rate calculated successfully","profitMargin":3.8286952655066075,"savingsPercent":1.604938271604937,"savingsVsMin":0.2599999999999998,"service":"currency-exchange-api","timestamp":"2025-11-18T19:54:30.569Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T19:54:30.573Z"}
{"finalRate":15.93,"level":"info","message":"Competitive rate calculated successfully","profitMargin":3.76832407609387,"savingsPercent":1.6666666666666643,"savingsVsMin":0.2699999999999996,"service":"currency-exchange-api","timestamp":"2025-11-18T19:54:50.569Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T19:54:50.574Z"}
{"finalRate":15.96,"level":"info","message":"Competitive rate calculated successfully","profitMargin":3.9492106849733997,"savingsPercent":1.4814814814814719,"savingsVsMin":0.23999999999999844,"service":"currency-exchange-api","timestamp":"2025-11-18T19:55:10.569Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T19:55:10.573Z"}
{"finalRate":15.95,"level":"info","message":"Competitive rate calculated successfully","profitMargin":3.8889907543683577,"savingsPercent":1.54320987654321,"savingsVsMin":0.25,"service":"currency-exchange-api","timestamp":"2025-11-18T19:55:30.569Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T19:55:30.572Z"}
{"finalRate":15.87,"level":"info","message":"Competitive rate calculated successfully","profitMargin":3.4044992143777755,"savingsPercent":2.0370370370370376,"savingsVsMin":0.33000000000000007,"service":"currency-exchange-api","timestamp":"2025-11-18T19:55:50.570Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T19:55:50.573Z"}
{"finalRate":15.89,"level":"info","message":"Competitive rate calculated successfully","profitMargin":3.5260794545107257,"savingsPercent":1.9135802469135723,"savingsVsMin":0.3099999999999987,"service":"currency-exchange-api","timestamp":"2025-11-18T19:56:10.568Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T19:56:10.570Z"}
{"finalRate":15.86,"level":"info","message":"Competitive rate calculated successfully","profitMargin":3.343594106694535,"savingsPercent":2.098765432098765,"savingsVsMin":0.33999999999999986,"service":"currency-exchange-api","timestamp":"2025-11-18T19:56:30.571Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T19:56:30.573Z"}
{"finalRate":15.87,"level":"info","message":"Competitive rate calculated successfully","profitMargin":3.4044992143777755,"savingsPercent":2.0370370370370376,"savingsVsMin":0.33000000000000007,"service":"currency-exchange-api","timestamp":"2025-11-18T19:56:50.570Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T19:56:50.573Z"}
{"finalRate":15.9,"level":"info","message":"Competitive rate calculated successfully","profitMargin":3.586754876237447,"savingsPercent":1.8518518518518454,"savingsVsMin":0.29999999999999893,"service":"currency-exchange-api","timestamp":"2025-11-18T19:57:10.569Z"}
{"duration":2,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T19:57:10.572Z"}
{"finalRate":15.93,"level":"info","message":"Competitive rate calculated successfully","profitMargin":3.76832407609387,"savingsPercent":1.6666666666666643,"savingsVsMin":0.2699999999999996,"service":"currency-exchange-api","timestamp":"2025-11-18T19:57:30.569Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T19:57:30.573Z"}
{"finalRate":15.96,"level":"info","message":"Competitive rate calculated successfully","profitMargin":3.9492106849733997,"savingsPercent":1.4814814814814719,"savingsVsMin":0.23999999999999844,"service":"currency-exchange-api","timestamp":"2025-11-18T19:57:50.567Z"}
{"duration":7,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T19:57:50.573Z"}
{"finalRate":15.89,"level":"info","message":"Competitive rate calculated successfully","profitMargin":3.5260794545107257,"savingsPercent":1.9135802469135723,"savingsVsMin":0.3099999999999987,"service":"currency-exchange-api","timestamp":"2025-11-18T19:58:02.006Z"}
{"level":"info","message":"Attempting to save transaction to Firebase","service":"currency-exchange-api","sessionId":"e20a7aff-3de2-499f-906e-b3526d94f0f4","timestamp":"2025-11-18T19:58:02.095Z"}
{"expiresAt":"2025-11-18T20:03:02.020Z","level":"info","message":"Transaction session created successfully","service":"currency-exchange-api","sessionId":"e20a7aff-3de2-499f-906e-b3526d94f0f4","status":"pending","timestamp":"2025-11-18T19:58:02.606Z"}
{"amount":1000,"exchangeRate":15.89,"from":"NGN","level":"info","message":"Transaction initiated","profitMargin":3.5260794545107257,"rateSource":"Binance P2P (Primary)","sanitizedUser":{"customerName":"Yahiya Mouhoumoud","email":null,"paymentMethod":"bank","phone":null,"receiveMethod":"UPI"},"service":"currency-exchange-api","sessionId":"e20a7aff-3de2-499f-906e-b3526d94f0f4","timestamp":"2025-11-18T19:58:02.608Z","to":"INR","usedCoinGeckoFallback":false}
{"duration":6624,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/convert","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T19:58:03.092Z"}
{"finalRate":15.88,"level":"info","message":"Competitive rate calculated successfully","profitMargin":3.465327615376288,"savingsPercent":1.9753086419752997,"savingsVsMin":0.3199999999999985,"service":"currency-exchange-api","timestamp":"2025-11-18T19:58:10.567Z"}
{"duration":2,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T19:58:10.569Z"}
{"amount":1000,"level":"info","message":"Initializing Paystack payment","reference":"HP-e20a7aff-3de2-499f-906e-b3526d94f0f4-1763495908690","service":"currency-exchange-api","sessionId":"e20a7aff-3de2-499f-906e-b3526d94f0f4","timestamp":"2025-11-18T19:58:28.690Z"}
{"level":"warn","message":"âš ï¸  Using MOCK payment - Paystack not configured","service":"currency-exchange-api","timestamp":"2025-11-18T19:58:28.693Z"}
{"authorizationUrl":"http://localhost:3000/mock-payment?ref=HP-e20a7aff-3de2-499f-906e-b3526d94f0f4-1763495908690","level":"info","message":"Paystack payment initialized","reference":"HP-e20a7aff-3de2-499f-906e-b3526d94f0f4-1763495908690","service":"currency-exchange-api","sessionId":"e20a7aff-3de2-499f-906e-b3526d94f0f4","timestamp":"2025-11-18T19:58:29.298Z"}
{"duration":1120,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T19:58:29.306Z"}
{"finalRate":15.86,"level":"info","message":"Competitive rate calculated successfully","profitMargin":3.343594106694535,"savingsPercent":2.098765432098765,"savingsVsMin":0.33999999999999986,"service":"currency-exchange-api","timestamp":"2025-11-18T19:58:30.568Z"}
{"duration":2,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T19:58:30.571Z"}
{"finalRate":15.97,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.009355199259577,"savingsPercent":1.4197530864197447,"savingsVsMin":0.22999999999999865,"service":"currency-exchange-api","timestamp":"2025-11-18T19:58:56.669Z"}
{"duration":8,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T19:58:56.677Z"}
{"error":"Transaction already payment_initiated","ip":"::1","level":"error","message":"Request error","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","stack":"ValidationError: Transaction already payment_initiated\n    at /Users/mac/Desktop/Lovra copy/script.js:1591:13\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-11-18T19:58:57.491Z"}
{"duration":837,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","statusCode":400,"timestamp":"2025-11-18T19:58:57.496Z"}
{"finalRate":15.86,"level":"info","message":"Competitive rate calculated successfully","profitMargin":3.343594106694535,"savingsPercent":2.098765432098765,"savingsVsMin":0.33999999999999986,"service":"currency-exchange-api","timestamp":"2025-11-18T19:59:10.569Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T19:59:10.573Z"}
{"finalRate":15.98,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.069424438809476,"savingsPercent":1.3580246913580178,"savingsVsMin":0.21999999999999886,"service":"currency-exchange-api","timestamp":"2025-11-18T19:59:22.389Z"}
{"level":"info","message":"Attempting to save transaction to Firebase","service":"currency-exchange-api","sessionId":"cc41d8b5-56ea-4bdd-a7c0-736d721f6dba","timestamp":"2025-11-18T19:59:22.395Z"}
{"expiresAt":"2025-11-18T20:04:22.392Z","level":"info","message":"Transaction session created successfully","service":"currency-exchange-api","sessionId":"cc41d8b5-56ea-4bdd-a7c0-736d721f6dba","status":"pending","timestamp":"2025-11-18T19:59:22.885Z"}
{"amount":1000,"exchangeRate":15.98,"from":"NGN","level":"info","message":"Transaction initiated","profitMargin":4.069424438809476,"rateSource":"Binance P2P (Primary)","sanitizedUser":{"customerName":"Yahiya Mouhoumoud","email":null,"paymentMethod":"bank","phone":null,"receiveMethod":"UPI"},"service":"currency-exchange-api","sessionId":"cc41d8b5-56ea-4bdd-a7c0-736d721f6dba","timestamp":"2025-11-18T19:59:22.886Z","to":"INR","usedCoinGeckoFallback":false}
{"duration":1039,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/convert","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T19:59:22.888Z"}
{"finalRate":15.93,"level":"info","message":"Competitive rate calculated successfully","profitMargin":3.76832407609387,"savingsPercent":1.6666666666666643,"savingsVsMin":0.2699999999999996,"service":"currency-exchange-api","timestamp":"2025-11-18T19:59:30.595Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T19:59:30.598Z"}
{"amount":1000,"level":"info","message":"Initializing Paystack payment","reference":"HP-cc41d8b5-56ea-4bdd-a7c0-736d721f6dba-1763495984568","service":"currency-exchange-api","sessionId":"cc41d8b5-56ea-4bdd-a7c0-736d721f6dba","timestamp":"2025-11-18T19:59:44.568Z"}
{"level":"warn","message":"âš ï¸  Using MOCK payment - Paystack not configured","service":"currency-exchange-api","timestamp":"2025-11-18T19:59:44.570Z"}
{"authorizationUrl":"http://localhost:3000/mock-payment?ref=HP-cc41d8b5-56ea-4bdd-a7c0-736d721f6dba-1763495984568","level":"info","message":"Paystack payment initialized","reference":"HP-cc41d8b5-56ea-4bdd-a7c0-736d721f6dba-1763495984568","service":"currency-exchange-api","sessionId":"cc41d8b5-56ea-4bdd-a7c0-736d721f6dba","timestamp":"2025-11-18T19:59:45.307Z"}
{"duration":1347,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/payment/initialize","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T19:59:45.313Z"}
{"finalRate":15.88,"level":"info","message":"Competitive rate calculated successfully","profitMargin":3.465327615376288,"savingsPercent":1.9753086419752997,"savingsVsMin":0.3199999999999985,"service":"currency-exchange-api","timestamp":"2025-11-18T19:59:50.577Z"}
{"duration":17,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T19:59:50.593Z"}
{"finalRate":15.97,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.009355199259577,"savingsPercent":1.4197530864197447,"savingsVsMin":0.22999999999999865,"service":"currency-exchange-api","timestamp":"2025-11-18T20:00:10.569Z"}
{"duration":5,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T20:00:10.574Z"}
{"finalRate":15.92,"level":"info","message":"Competitive rate calculated successfully","profitMargin":3.7078770434783523,"savingsPercent":1.7283950617283912,"savingsVsMin":0.27999999999999936,"service":"currency-exchange-api","timestamp":"2025-11-18T20:00:30.570Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T20:00:30.574Z"}
{"finalRate":15.95,"level":"info","message":"Competitive rate calculated successfully","profitMargin":3.8889907543683577,"savingsPercent":1.54320987654321,"savingsVsMin":0.25,"service":"currency-exchange-api","timestamp":"2025-11-18T20:00:50.570Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T20:00:50.573Z"}
{"finalRate":15.94,"level":"info","message":"Competitive rate calculated successfully","profitMargin":3.8286952655066075,"savingsPercent":1.604938271604937,"savingsVsMin":0.2599999999999998,"service":"currency-exchange-api","timestamp":"2025-11-18T20:01:10.568Z"}
{"duration":5,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T20:01:10.572Z"}
{"level":"info","message":"Manual verification requested","reference":"HP-cc41d8b5-56ea-4bdd-a7c0-736d721f6dba-1763495984568","service":"currency-exchange-api","sessionId":"cc41d8b5-56ea-4bdd-a7c0-736d721f6dba","timestamp":"2025-11-18T20:01:11.688Z"}
{"amount":1004.41,"level":"info","message":"âœ… Payment verified","service":"currency-exchange-api","sessionId":"cc41d8b5-56ea-4bdd-a7c0-736d721f6dba","timestamp":"2025-11-18T20:01:12.743Z"}
{"duration":1059,"ip":"::1","level":"info","message":"Request completed","method":"POST","path":"/api/payment/verify-manual","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T20:01:12.749Z"}
{"finalRate":15.9,"level":"info","message":"Competitive rate calculated successfully","profitMargin":3.586754876237447,"savingsPercent":1.8518518518518454,"savingsVsMin":0.29999999999999893,"service":"currency-exchange-api","timestamp":"2025-11-18T20:01:30.567Z"}
{"duration":8,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T20:01:30.575Z"}
{"finalRate":15.9,"level":"info","message":"Competitive rate calculated successfully","profitMargin":3.586754876237447,"savingsPercent":1.8518518518518454,"savingsVsMin":0.29999999999999893,"service":"currency-exchange-api","timestamp":"2025-11-18T20:01:50.586Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T20:01:50.588Z"}
{"finalRate":15.94,"level":"info","message":"Competitive rate calculated successfully","profitMargin":3.8286952655066075,"savingsPercent":1.604938271604937,"savingsVsMin":0.2599999999999998,"service":"currency-exchange-api","timestamp":"2025-11-18T20:01:54.116Z"}
{"duration":15,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T20:01:54.131Z"}
{"finalRate":15.94,"level":"info","message":"Competitive rate calculated successfully","profitMargin":3.8286952655066075,"savingsPercent":1.604938271604937,"savingsVsMin":0.2599999999999998,"service":"currency-exchange-api","timestamp":"2025-11-18T20:02:14.772Z"}
{"duration":2,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":304,"timestamp":"2025-11-18T20:02:14.774Z"}
{"finalRate":15.95,"level":"info","message":"Competitive rate calculated successfully","profitMargin":3.8889907543683577,"savingsPercent":1.54320987654321,"savingsVsMin":0.25,"service":"currency-exchange-api","timestamp":"2025-11-18T20:02:34.700Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T20:02:34.703Z"}
{"finalRate":15.98,"level":"info","message":"Competitive rate calculated successfully","profitMargin":4.069424438809476,"savingsPercent":1.3580246913580178,"savingsVsMin":0.21999999999999886,"service":"currency-exchange-api","timestamp":"2025-11-18T20:02:55.533Z"}
{"duration":4,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T20:02:55.537Z"}
{"finalRate":15.89,"level":"info","message":"Competitive rate calculated successfully","profitMargin":3.5260794545107257,"savingsPercent":1.9135802469135723,"savingsVsMin":0.3099999999999987,"service":"currency-exchange-api","timestamp":"2025-11-18T20:03:14.832Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T20:03:14.835Z"}
{"finalRate":15.88,"level":"info","message":"Competitive rate calculated successfully","profitMargin":3.465327615376288,"savingsPercent":1.9753086419752997,"savingsVsMin":0.3199999999999985,"service":"currency-exchange-api","timestamp":"2025-11-18T20:03:34.709Z"}
{"duration":3,"ip":"::1","level":"info","message":"Request completed","method":"GET","path":"/api/rates","service":"currency-exchange-api","statusCode":200,"timestamp":"2025-11-18T20:03:34.712Z"}
